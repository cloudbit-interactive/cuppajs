/*! v0.0.6 */
/*! v0.0.8 */
export class CuppaComponent extends HTMLElement{refs={};shadow=null;renderedCount=0;_template;_callbacks=[];constructor(){super(),this.getPropertiesCallbacks(),this.binAll=this.binAll.bind(this),this.connectedCallback=this.connectedCallback.bind(this),this.forceRender=this.forceRender.bind(this),this.disconnectedCallback=this.disconnectedCallback.bind(this),this.observables=this.observables.bind(this),this.applyObservables=this.applyObservables.bind(this),this.applyObservables(),this.binAll(this)}static get observedAttributes(){return this.attributes||[]}attributeChangedCallback(e,t,s){t!==s&&("false"===s&&(s=!1),"true"===s&&(s=!0),this[camelize(e)]=s)}applyObservables(){this.constructor.observables&&setTimeout((()=>{let e={};for(let t=0;t<this.constructor.observables.length;t++){let s=this.constructor.observables[t];e[s]=this[s]}this.observables(e),this.forceRender()}),0)}getPropertiesCallbacks(){let e=Object.entries(this);for(let t=0;t<e.length;t++){let[s,i]=e[t];-1===["refs","shadow","renderedCount","_template","_callbacks"].indexOf(s)&&this._callbacks.push({key:s,value:i})}}reSetPropertiesCallbacks(){for(let e=0;e<this._callbacks.length;e++){let{key:t,value:s}=this._callbacks[e];this[t]=s}}connectedCallback(){this.reSetPropertiesCallbacks(),this.shadow&&this.attachShadow({mode:this.shadow}),this.forceRender(null,!1),this.rendered&&this.rendered(this.renderedCount,this),setTimeout((()=>{this.applyStylesAfterRender(),this.mounted&&this.mounted(this)}),0)}applyStylesAfterRender(){const e=this.getAttribute("style-after-render");if(e)for(const t of e.split(";")){const[e,s]=t.split(":");e&&s&&(this.style[e.trim()]=s.trim())}}disconnectedCallback(){this.unmounted&&this.unmounted(this)}setVariables(e){Object.entries(e).map((([e,t])=>{this[`${e}`]=t})),this.forceRender()}forceRender(e=null,t=!0){this._template||(this._template=()=>this.render()),this.shadowRoot?render(this._template(),this.shadowRoot):render(this._template(),this),this.processRefs(this,this.refs,"ref"),e&&e(),this.renderedCount++,this.firstRendered&&1===this.renderedCount&&this.firstRendered(this.renderedCount,this),this.rendered&&t&&this.rendered(this.renderedCount,this)}processRefs(e,t,s){s||(s="id");let i={},l=Array.from(e.querySelectorAll(`[${s}]`));for(let e=0;e<l.length;e++)t?t[l[e].getAttribute(s)]=l[e]:i[l[e].getAttribute(s)]=l[e];return t?t.rootHtml=e:i.rootHtml=e,i}binAll(e,t){let s=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t&&(s=Object.keys(e));for(let t=0;t<s.length;t++)"constructor"!==s[t]&&"function"==typeof e[s[t]]&&(e[s[t]]=e[s[t]].bind(e))}bind(e){let t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));for(let s=0;s<t.length;s++)if("function"==typeof e[t[s]]){if(this[t[s]])continue;this[t[s]]=e[t[s]].bind(e)}}observables(e,t){let s,i=this;if(e){if(!Array.isArray(e))return Object.keys(e).map(((l,n)=>{n||(s=l);let o=e[l],r="_"+l;i[r]=o,Object.defineProperty(i,l,{set:e=>{i[r]=e,i.forceRender&&i.forceRender(),t&&t()},get:()=>i[r],configurable:!0})})),i[s];e.forEach((e=>{this.observable(e,this[e])}))}}observable(e,t){return setTimeout((()=>{t&&void 0===this[e]||(t=this[e]),this.observables({[e]:t})}),0),t}}export function camelize(e){return(e=(e=(e=(e=(e=String(e)||"").replace(new RegExp("-","g")," ")).replace(new RegExp("_","g")," ")).toLowerCase()).replace(/[^\w\s]/gi,"")).replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(function(e,t){return 0==+e?"":0===t?e.toLowerCase():e.toUpperCase()}))}var t,e={d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},i={};e.d(i,{BJ:()=>tt,Al:()=>O,dy:()=>b,Jb:()=>M,Ld:()=>w,sY:()=>W,rx:()=>X,YP:()=>N,Au:()=>et});const s=window,n=s.trustedTypes,o=n?n.createPolicy("lit-html",{createHTML:e=>e}):void 0,r="$lit$",l=`lit$${(Math.random()+"").slice(9)}$`,h="?"+l,a=`<${h}>`,d=document,$=()=>d.createComment(""),c=e=>null===e||"object"!=typeof e&&"function"!=typeof e,u=Array.isArray,A=e=>u(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]),_="[ \t\n\f\r]",v=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,p=/-->/g,f=/>/g,g=RegExp(`>|${_}(?:([^\\s"'>=/]+)(${_}*=${_}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),m=/'/g,y=/"/g,x=/^(?:script|style|textarea|title)$/i,H=e=>(t,...s)=>({_$litType$:e,strings:t,values:s}),b=H(1),N=H(2),M=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,C=d.createTreeWalker(d,129,null,!1),S=(e,t)=>{const s=e.length-1,i=[];let n,h=2===t?"<svg>":"",c=v;for(let t=0;t<s;t++){const s=e[t];let o,d,u=-1,A=0;for(;A<s.length&&(c.lastIndex=A,d=c.exec(s),null!==d);)A=c.lastIndex,c===v?"!--"===d[1]?c=p:void 0!==d[1]?c=f:void 0!==d[2]?(x.test(d[2])&&(n=RegExp("</"+d[2],"g")),c=g):void 0!==d[3]&&(c=g):c===g?">"===d[0]?(c=null!=n?n:v,u=-1):void 0===d[1]?u=-2:(u=c.lastIndex-d[2].length,o=d[1],c=void 0===d[3]?g:'"'===d[3]?y:m):c===y||c===m?c=g:c===p||c===f?c=v:(c=g,n=void 0);const M=c===g&&e[t+1].startsWith("/>")?" ":"";h+=c===v?s+a:u>=0?(i.push(o),s.slice(0,u)+r+s.slice(u)+l+M):s+l+(-2===u?(i.push(void 0),t):M)}const d=h+(e[s]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==o?o.createHTML(d):d,i]};class B{constructor({strings:e,_$litType$:t},s){let i;this.parts=[];let o=0,a=0;const c=e.length-1,d=this.parts,[u,p]=S(e,t);if(this.el=B.createElement(u,s),C.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(i=C.nextNode())&&d.length<c;){if(1===i.nodeType){if(i.hasAttributes()){const e=[];for(const t of i.getAttributeNames())if(t.endsWith(r)||t.startsWith(l)){const s=p[a++];if(e.push(t),void 0!==s){const e=i.getAttribute(s.toLowerCase()+r).split(l),t=/([.?@])?(.*)/.exec(s);d.push({type:1,index:o,name:t[2],strings:e,ctor:"."===t[1]?L:"?"===t[1]?R:"@"===t[1]?j:U})}else d.push({type:6,index:o})}for(const t of e)i.removeAttribute(t)}if(x.test(i.tagName)){const e=i.textContent.split(l),t=e.length-1;if(t>0){i.textContent=n?n.emptyScript:"";for(let s=0;s<t;s++)i.append(e[s],$()),C.nextNode(),d.push({type:2,index:++o});i.append(e[t],$())}}}else if(8===i.nodeType)if(i.data===h)d.push({type:2,index:o});else{let e=-1;for(;-1!==(e=i.data.indexOf(l,e+1));)d.push({type:7,index:o}),e+=l.length-1}o++}}static createElement(e,t){const s=d.createElement("template");return s.innerHTML=e,s}}function P(e,t,s=e,i){var l,n,o,r;if(t===M)return t;let a=void 0!==i?null===(l=s._$Co)||void 0===l?void 0:l[i]:s._$Cl;const h=c(t)?void 0:t._$litDirective$;return(null==a?void 0:a.constructor)!==h&&(null===(n=null==a?void 0:a._$AO)||void 0===n||n.call(a,!1),void 0===h?a=void 0:(a=new h(e),a._$AT(e,s,i)),void 0!==i?(null!==(o=(r=s)._$Co)&&void 0!==o?o:r._$Co=[])[i]=a:s._$Cl=a),void 0!==a&&(t=P(e,a._$AS(e,t.values),a,i)),t}class E{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:s},parts:i}=this._$AD,l=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:d).importNode(s,!0);C.currentNode=l;let n=C.nextNode(),o=0,r=0,a=i[0];for(;void 0!==a;){if(o===a.index){let t;2===a.type?t=new I(n,n.nextSibling,this,e):1===a.type?t=new a.ctor(n,a.name,a.strings,this,e):6===a.type&&(t=new D(n,this,e)),this._$AV.push(t),a=i[++r]}o!==(null==a?void 0:a.index)&&(n=C.nextNode(),o++)}return l}v(e){let t=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(e,s,t),t+=s.strings.length-2):s._$AI(e[t])),t++}}class I{constructor(e,t,s,i){var l;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=s,this.options=i,this._$Cp=null===(l=null==i?void 0:i.isConnected)||void 0===l||l}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=P(this,e,t),c(e)?e===w||null==e||""===e?(this._$AH!==w&&this._$AR(),this._$AH=w):e!==this._$AH&&e!==M&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):A(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==w&&c(this._$AH)?this._$AA.nextSibling.data=e:this.$(d.createTextNode(e)),this._$AH=e}g(e){var t;const{values:s,_$litType$:i}=e,l="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=B.createElement(i.h,this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===l)this._$AH.v(s);else{const e=new E(l,this),t=e.u(this.options);e.v(s),this.$(t),this._$AH=e}}_$AC(e){let t=T.get(e.strings);return void 0===t&&T.set(e.strings,t=new B(e)),t}T(e){u(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let s,i=0;for(const l of e)i===t.length?t.push(s=new I(this.k($()),this.k($()),this,this.options)):s=t[i],s._$AI(l),i++;i<t.length&&(this._$AR(s&&s._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class U{constructor(e,t,s,i,l){this.type=1,this._$AH=w,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=l,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,s,i){const l=this.strings;let n=!1;if(void 0===l)e=P(this,e,t,0),n=!c(e)||e!==this._$AH&&e!==M,n&&(this._$AH=e);else{const i=e;let o,r;for(e=l[0],o=0;o<l.length-1;o++)r=P(this,i[s+o],t,o),r===M&&(r=this._$AH[o]),n||(n=!c(r)||r!==this._$AH[o]),r===w?e=w:e!==w&&(e+=(null!=r?r:"")+l[o+1]),this._$AH[o]=r}n&&!i&&this.j(e)}j(e){e===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class L extends U{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===w?void 0:e}}const k=n?n.emptyScript:"";class R extends U{constructor(){super(...arguments),this.type=4}j(e){e&&e!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class j extends U{constructor(e,t,s,i,l){super(e,t,s,i,l),this.type=5}_$AI(e,t=this){var s;if((e=null!==(s=P(this,e,t,0))&&void 0!==s?s:w)===M)return;const i=this._$AH,l=e===w&&i!==w||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,n=e!==w&&(i===w||l);l&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==s?s:this.element,e):this._$AH.handleEvent(e)}}class D{constructor(e,t,s){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(e){P(this,e)}}const O={O:r,P:l,A:h,C:1,M:S,L:E,D:A,R:P,I:I,V:U,H:R,N:j,U:L,F:D},V=s.litHtmlPolyfillSupport;null==V||V(B,I),(null!==(t=s.litHtmlVersions)&&void 0!==t?t:s.litHtmlVersions=[]).push("2.7.2");const W=(e,t,s)=>{var i,l;const n=null!==(i=null==s?void 0:s.renderBefore)&&void 0!==i?i:t;let o=n._$litPart$;if(void 0===o){const e=null!==(l=null==s?void 0:s.renderBefore)&&void 0!==l?l:null;n._$litPart$=o=new I(t.insertBefore($(),e),e,void 0,null!=s?s:{})}return o._$AI(e),o},J=e=>(...t)=>({_$litDirective$:e,values:t});class Y{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,s){this._$Ct=e,this._$AM=t,this._$Ci=s}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}const{I:z}=O,Z=()=>document.createComment(""),F=(e,t,s)=>{var i;const l=e._$AA.parentNode,n=void 0===t?e._$AB:t._$AA;if(void 0===s){const t=l.insertBefore(Z(),n),i=l.insertBefore(Z(),n);s=new z(t,i,e,e.options)}else{const t=s._$AB.nextSibling,o=s._$AM,r=o!==e;if(r){let t;null===(i=s._$AQ)||void 0===i||i.call(s,e),s._$AM=e,void 0!==s._$AP&&(t=e._$AU)!==o._$AU&&s._$AP(t)}if(t!==n||r){let e=s._$AA;for(;e!==t;){const t=e.nextSibling;l.insertBefore(e,n),e=t}}}return s},Q=(e,t,s=e)=>(e._$AI(t,s),e),q={},G=e=>{var t;null===(t=e._$AP)||void 0===t||t.call(e,!1,!0);let s=e._$AA;const i=e._$AB.nextSibling;for(;s!==i;){const e=s.nextSibling;s.remove(),s=e}},K=(e,t,s)=>{const i=new Map;for(let l=t;l<=s;l++)i.set(e[l],l);return i},X=J(class extends Y{constructor(e){if(super(e),2!==e.type)throw Error("repeat() can only be used in text expressions")}dt(e,t,s){let i;void 0===s?s=t:void 0!==t&&(i=t);const l=[],n=[];let o=0;for(const t of e)l[o]=i?i(t,o):o,n[o]=s(t,o),o++;return{values:n,keys:l}}render(e,t,s){return this.dt(e,t,s).values}update(e,[t,s,i]){var l;const n=(e=>e._$AH)(e),{values:o,keys:r}=this.dt(t,s,i);if(!Array.isArray(n))return this.ht=r,o;const a=null!==(l=this.ht)&&void 0!==l?l:this.ht=[],h=[];let c,d,u=0,p=n.length-1,g=0,A=o.length-1;for(;u<=p&&g<=A;)if(null===n[u])u++;else if(null===n[p])p--;else if(a[u]===r[g])h[g]=Q(n[u],o[g]),u++,g++;else if(a[p]===r[A])h[A]=Q(n[p],o[A]),p--,A--;else if(a[u]===r[A])h[A]=Q(n[u],o[A]),F(e,h[A+1],n[u]),u++,A--;else if(a[p]===r[g])h[g]=Q(n[p],o[g]),F(e,n[u],n[p]),p--,g++;else if(void 0===c&&(c=K(r,g,A),d=K(a,u,p)),c.has(a[u]))if(c.has(a[p])){const t=d.get(r[g]),s=void 0!==t?n[t]:null;if(null===s){const t=F(e,n[u]);Q(t,o[g]),h[g]=t}else h[g]=Q(s,o[g]),F(e,n[u],s),n[t]=null;g++}else G(n[p]),p--;else G(n[u]),u++;for(;g<=A;){const t=F(e,h[A+1]);Q(t,o[g]),h[g++]=t}for(;u<=p;){const e=n[u++];null!==e&&G(e)}return this.ht=r,((e,t=q)=>{e._$AH=t})(e,h),M}});class tt extends Y{constructor(e){if(super(e),this.et=w,2!==e.type)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===w||null==e)return this.ft=void 0,this.et=e;if(e===M)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;const t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}}tt.directiveName="unsafeHTML",tt.resultType=1;const et=J(tt);var it=i.BJ,st=i.Al,nt=i.dy,ot=i.Jb,rt=i.Ld,lt=i.sY,ht=i.rx,at=i.YP,dt=i.Au;export{it as UnsafeHTMLDirective,st as _$LH,nt as html,ot as noChange,rt as nothing,lt as render,ht as repeat,at as svg,dt as unsafeHTML};let $LH=st,html=nt,noChange=ot,nothing=rt,render=lt,repeat=ht,svg=at,unsafeHTML=dt;export const CuppaSelectType={SINGLE:"SINGLE",MULTIPLE:"MULTIPLE"};export let arrowImage="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0ic3ZnLWljb24iIHN0eWxlPSJ3aWR0aDogMWVtOyBoZWlnaHQ6IDFlbTt2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO2ZpbGw6IGN1cnJlbnRDb2xvcjtvdmVyZmxvdzogaGlkZGVuOyIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik01MTIuMDM3OTkgMCA5MjEuNjc1OTgxIDQxMS42NDggMTAyLjQgNDExLjY0OCA1MTIuMDM3OTkgMFpNNTEyLjAzNzk5IDk5NS4zMjggMTAyLjQgNTgzLjY4IDkyMS42NzU5ODEgNTgzLjY4IDUxMi4wMzc5OSA5OTUuMzI4WiIgIC8+PC9zdmc+";export let selectedImage="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQzNyIgdmlld0JveD0iMCAwIDYwMCA0MzciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik01ODUuODk1IDEyLjYyMDdDNTgxLjkyOSA4LjYyMTY1IDU3Ny4yMSA1LjQ0NzQ3IDU3Mi4wMTEgMy4yODEzNEM1NjYuODExIDEuMTE1MjEgNTYxLjIzNCAwIDU1NS42MDIgMEM1NDkuOTY5IDAgNTQ0LjM5MyAxLjExNTIxIDUzOS4xOTMgMy4yODEzNEM1MzMuOTk0IDUuNDQ3NDcgNTI5LjI3NSA4LjYyMTY1IDUyNS4zMDkgMTIuNjIwN0wyMDcuNDQyIDMzMC45MTRMNzMuODk1MyAxOTYuOTQxQzY5Ljc3NzEgMTkyLjk2MyA2NC45MTU2IDE4OS44MzQgNTkuNTg4NSAxODcuNzM1QzU0LjI2MTMgMTg1LjYzNiA0OC41NzI4IDE4NC42MDYgNDIuODQ3OCAxODQuNzA1QzM3LjEyMjcgMTg0LjgwNCAzMS40NzMyIDE4Ni4wMyAyNi4yMjE5IDE4OC4zMTJDMjAuOTcwNiAxOTAuNTk1IDE2LjIyMDIgMTkzLjg4OSAxMi4yNDIgMTk4LjAwN0M4LjI2Mzg0IDIwMi4xMjYgNS4xMzU3NyAyMDYuOTg3IDMuMDM2NCAyMTIuMzE0QzAuOTM3MDMyIDIxNy42NDEgLTAuMDkyNTI0NiAyMjMuMzMgMC4wMDY1MjQ1NyAyMjkuMDU1QzAuMTA1NTc0IDIzNC43OCAxLjMzMTI4IDI0MC40MjkgMy42MTM2NyAyNDUuNjgxQzUuODk2MDYgMjUwLjkzMiA5LjE5MDQzIDI1NS42ODMgMTMuMzA4NyAyNTkuNjYxTDE3Ny4xNDkgNDIzLjUwMUMxODEuMTE1IDQyNy41IDE4NS44MzQgNDMwLjY3NCAxOTEuMDMzIDQzMi44NEMxOTYuMjMzIDQzNS4wMDYgMjAxLjgxIDQzNi4xMjEgMjA3LjQ0MiA0MzYuMTIxQzIxMy4wNzUgNDM2LjEyMSAyMTguNjUxIDQzNS4wMDYgMjIzLjg1MSA0MzIuODRDMjI5LjA1IDQzMC42NzQgMjMzLjc2OSA0MjcuNSAyMzcuNzM1IDQyMy41MDFMNTg1Ljg5NSA3NS4zNDA3QzU5MC4yMjYgNzEuMzQ1MyA1OTMuNjgzIDY2LjQ5NjIgNTk2LjA0NyA2MS4wOTg4QzU5OC40MTEgNTUuNzAxNSA1OTkuNjMxIDQ5Ljg3MzEgNTk5LjYzMSA0My45ODA3QzU5OS42MzEgMzguMDg4NCA1OTguNDExIDMyLjI1OTkgNTk2LjA0NyAyNi44NjI2QzU5My42ODMgMjEuNDY1MyA1OTAuMjI2IDE2LjYxNjEgNTg1Ljg5NSAxMi42MjA3WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==";export class CuppaSelect extends CuppaComponent{static attributes=["placeholder","type","select-class","list-class","name","selected","open","dropdown-style","empty-option-label","search-enabled","show-arrow","select-style","auto-close","value-column","label-column","label-separator","label-auto-format","multiple-label-separator","search-placeholder","maximum-options-showed","maximum-options-exceeded-label"];static observables=["placeholder","type","selectClass","listClass","name","selected","open","valueColumn","labelColumn","labelSeparator","labelAutoFormat","multipleLabelSeparator","name","emptyOptionLabel","options","search","open","dropdownStyle","searchEnabled","showArrow","selectStyle","autoClose","searchPlaceholder","maximumOptionsShowed","maximumOptionsExceededLabel"];placeholder="Select";type=CuppaSelectType.SINGLE;callback=null;closeCallback=null;selectClass="";listClass="";valueColumn="id";labelColumn="name";labelSeparator=", ";labelAutoFormat=!1;multipleLabelSeparator=" - ";name="";options=[];selected;searchEnabled=!0;search="";searchPlaceholder="Search...";open=!1;dropdownStyle="";emptyOptionLabel="Select...";showArrow=!0;selectStyle="";autoClose=!0;maximumOptionsShowed=3;maximumOptionsExceededLabel="...";mounted(){document.addEventListener("keyup",(e=>{"escape"===String(e?.code).toLowerCase()&&(e.preventDefault(),e.stopPropagation(),this.close())})),document.addEventListener("click",(e=>{this.open&&(this.close(),this.open=!1)})),this.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault()})),this.refs?.select&&this.refs?.select.addEventListener("keypress",(e=>{"space"===String(e?.code).toLowerCase()&&(e.preventDefault(),e.stopPropagation(),this.open?this.close():this.open=!0)})),this.refs?.search&&this.refs?.search.addEventListener("keypress",(e=>{if("enter"===String(e?.code).toLowerCase()){e.preventDefault(),e.stopPropagation(),this.open?this.close():this.open=!0;const t=(this.options||[]).filter((e=>-1!==String(e[this.labelColumn]).toLowerCase().indexOf(this.search.toLowerCase())));if(!t?.length)return;const s=t[0];let i="object"==typeof s?s[this.valueColumn]:s;this.selectValue(i)}}))}selectValue(e,{close:t=!0}={}){if(this.type===CuppaSelectType.MULTIPLE){const t=String(this.selected).split(",").map((e=>e.trim()));if(t.includes(String(e))){const s=t.filter((t=>t!==String(e)));this.selected=s.filter((e=>e)).join(",")}else t.push(String(e)),this.selected=t.filter((e=>e)).join(",")}else this.selected=e;this.dispatchEvent(new CustomEvent("change",{detail:this.selected})),this.callback&&this.callback(this.selected),t&&this.autoClose&&this.close()}getSelectedLabel(){if(!this.selected)return"";const e=String(this.selected).split(",").map((e=>e.trim())).filter((e=>e))||[],t=[];for(const[s,i]of e.entries()){let l=this.options.filter((e=>e[this.valueColumn]===i))[0],n=l;if("object"==typeof l&&(n=this.labelColumn.split(",").map((e=>l[e.trim()])),n=n.join(this.multipleLabelSeparator)),n=String(n).replaceAll("_"," "),t.push(n),s+1>=this.maximumOptionsShowed){e.length>this.maximumOptionsShowed&&t.push(this.maximumOptionsExceededLabel);break}}return t.join(this.labelSeparator)}rendered(){this.open&&this.refs?.search&&this.refs?.search?.focus()}getOptions(){return(this.options||[]).filter((e=>{let t=e;return"object"==typeof e&&(t=this.labelColumn.split(",").map((t=>e[t.trim()])),t=t.join(this.multipleLabelSeparator)),-1!==String(t).toLowerCase().indexOf(this.search.toLowerCase())}))}close(){this.open&&(this.dispatchEvent(new CustomEvent("close",{detail:this.selected})),this.closeCallback&&this.closeCallback(this.selected)),this.open=!1}render(){const e=String(this.selected).split(",").map((e=>e.trim())),t=this.getSelectedLabel(),s=this.getOptions();return html`
      <div
        ref="select"
        class="select ${this.selectClass}"
        tabindex="0"
        @click="${e=>{this.open?this.close():this.open=!0}}"
        style="${this.selectStyle}"
      >
        <input type="hidden" name=${this.name} .value=${this.selected} >
        <span>${t||this.placeholder}</span>
        ${this.showArrow?html`<img class="arrow-img" src="${arrowImage}" />`:""}
      </div>
      <div
        class="dropdown ${this.open?"open":""}"
        style="${this.dropdownStyle}"
      >
        ${this.searchEnabled?html`
          <div class="controls">
            <input
              ref="search"
              class="search"
              placeholder="${this.searchPlaceholder}"
              style="width: 100%"
              value="${this.search}"
              @input=${e=>this.search=e.currentTarget.value}
            />
          </div>
        `:""}
        <div class="list" >
          ${s.map((t=>{let s="object"==typeof t?t[this.valueColumn]:t,i=t;"object"==typeof t&&(i=this.labelColumn.split(",").map((e=>t[e.trim()])),i=i.join(this.multipleLabelSeparator)),i=String(i).replaceAll("_"," ");const l=e.includes(String(s));return this.labelAutoFormat&&(i=capitaliseAllWords(i)),html`
              <div
                class="list-item"
                @click=${e=>{this.selectValue(s)}}
              >
                <span>${i}</span>
                ${l?html`<img class="selected-img" src="${selectedImage}" />`:""}
              </div>`}))}
        </div>
      </div>
      <style>
        cuppa-select{
          display: block;
          & .select{
            position: relative;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            user-select: none;
            &:focus{
              outline: 2px solid #2d85c1;
              border-radius: 3px;
            }
          }
          & .selected-img{
            width: auto;
            height:8px;
          }
          & .arrow-img{
            width: auto;
            height:10px;
            position: absolute;
            right:10px;
            top:50%;
            margin-top:-5px;
            opacity:0.5;
            pointer-events: none;
          }
          & .dropdown{
            position: absolute;
            display: none;
            width: 100%;
            z-index: 1;
            margin-top: 2px;
            height: auto;
            max-height: 200px;
            overflow: hidden;
            border-radius: 3px;
            flex-direction: column;
            box-shadow: 0 0 1rem rgba(0, 0, 0, 0.2);
            &.open{
              display: flex;
            }
            & input.search{
              width: 100%;
              border:none;
              border-bottom: 1px solid rgba(235,238,241, 1);
              outline: none;
              padding: 8px;
              border-radius: 0;
            }
            & .list{
              flex:1; overflow: auto;
              & .list-item{
                padding: 8px;
                display: flex;
                gap:5px;
                align-items: center;
                justify-content: space-between;
                &:hover{
                  background: #f6f8fa;
                }
              }
            }
          }

        }
      </style>
		`}}function capitaliseAllWords(e){e||(e="");let t=(e=e.toLocaleLowerCase()).split(" ");for(let e=0;e<t.length;e++){let s=t[e].charAt(0).toUpperCase();t[e]=s+t[e].substr(1)}return t.join(" ")}customElements.define("cuppa-select",CuppaSelect);