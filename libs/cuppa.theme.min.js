/*!
 * v0.0.3
 * Authors (https://github.com/cloudbit-interactive/cuppajs)
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 */
import{cuppa}from"./cuppa.min.js";export class CuppaTheme{static init({btnToggle:e,callback:t}={}){CuppaTheme.setTheme(null,!1,t),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{if(localStorage.getItem("theme"))return;let a=e?"dark-theme":"light-theme";CuppaTheme.setTheme(a,!1,t)})),CuppaTheme.setBtnToggle(e,t)}static setTheme(e,t=!1,a){let m=e||localStorage.getItem("theme");m?(document.body.classList.remove("dark-theme"),document.body.classList.remove("light-theme"),document.body.classList.add(m),t&&localStorage.setItem("theme",m)):window.matchMedia("(prefers-color-scheme: dark)").matches||"dark-theme"===m?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme"),a&&a(CuppaTheme.getTheme())}static setBtnToggle(e,t){e&&(cuppa.off(e,"click"),cuppa.on(e,"click",(e=>{let a=document.body.classList.contains("dark-theme")?"light-theme":"dark-theme";CuppaTheme.setTheme(a,!0,t)})))}static getTheme(){return document.body.classList.contains("dark-theme")?"dark":"light"}}