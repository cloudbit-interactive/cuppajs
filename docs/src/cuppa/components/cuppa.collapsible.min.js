export class CuppaComponent extends HTMLElement{refs={};shadow=null;renderedCount=0;_template;constructor(){super(),this.binAll=this.binAll.bind(this),this.connectedCallback=this.connectedCallback.bind(this),this.forceRender=this.forceRender.bind(this),this.disconnectedCallback=this.disconnectedCallback.bind(this),this.observables=this.observables.bind(this),this.binAll(this)}connectedCallback(){this.shadow&&this.attachShadow({mode:this.shadow}),this.forceRender(),this.mounted&&this.mounted(this)}disconnectedCallback(){this.unmounted&&this.unmounted(this)}setVariables(args){Object.entries(args).map(([name,value])=>{this[`_${name}`]=value}),this.forceRender()}forceRender(callback){this._template||(this._template=()=>this.render()),this.shadowRoot?render(this._template(),this.shadowRoot):render(this._template(),this),this.processRefs(this,this.refs,"ref"),callback&&callback(),this.rendered&&this.rendered(this),this.renderedCount++}processRefs(html,addTo,tagAttr){tagAttr||(tagAttr="id");let nodes={},elements=Array.from(html.querySelectorAll(`[${tagAttr}]`));for(let i=0;i<elements.length;i++)addTo?addTo[elements[i].getAttribute(tagAttr)]=elements[i]:nodes[elements[i].getAttribute(tagAttr)]=elements[i];return addTo?addTo.rootHtml=html:nodes.rootHtml=html,nodes}binAll(element,isFunction){let propertyNames=Object.getOwnPropertyNames(Object.getPrototypeOf(element));isFunction&&(propertyNames=Object.keys(element));for(let i=0;i<propertyNames.length;i++)"function"==typeof element[propertyNames[i]]&&(element[propertyNames[i]]=element[propertyNames[i]].bind(element))}bind(element){let propertyNames=Object.getOwnPropertyNames(Object.getPrototypeOf(element));for(let i=0;i<propertyNames.length;i++)if("function"==typeof element[propertyNames[i]]){if(this[propertyNames[i]])continue;this[propertyNames[i]]=element[propertyNames[i]].bind(element)}}observables(object,callback){let target=this,firstName;if(object){if(!Array.isArray(object))return Object.keys(object).map((name,index)=>{index||(firstName=name);let value=object[name],privateVar="_"+name;target[privateVar]=value,Object.defineProperty(target,name,{set:value=>{target[privateVar]=value,target.forceRender&&target.forceRender(),callback&&callback()},get:()=>target[privateVar],configurable:!0})}),target[firstName];object.forEach(varName=>{this.observable(varName,this[varName])})}}observable(varName,defaultValue){return setTimeout(()=>{defaultValue||(defaultValue=this[varName]),this.observables({[varName]:defaultValue})},0),defaultValue}}var t,e={d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},i={};e.d(i,{Al:()=>D,dy:()=>y,Jb:()=>H,Ld:()=>b,sY:()=>M,rx:()=>F,YP:()=>x});const s=globalThis.trustedTypes,n=s?s.createPolicy("lit-html",{createHTML:t=>t}):void 0,o=`lit$${(Math.random()+"").slice(9)}$`,l="?"+o,r=`<${l}>`,h=document,$=(t="")=>h.createComment(t),d=t=>null===t||"object"!=typeof t&&"function"!=typeof t,a=Array.isArray,A=t=>{var e;return a(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,u=/-->/g,_=/>/g,v=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,p=/'/g,f=/"/g,g=/^(?:script|style|textarea)$/i,m=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),y=m(1),x=m(2),H=Symbol.for("lit-noChange"),b=Symbol.for("lit-nothing"),N=new WeakMap,M=(t,e,i)=>{var s,n;const o=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:e;let l=o._$litPart$;if(void 0===l){const t=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:null;o._$litPart$=l=new P(e.insertBefore($(),t),t,void 0,null!=i?i:{})}return l._$AI(t),l},S=h.createTreeWalker(h,129,null,!1),C=(t,e)=>{const i=t.length-1,s=[];let l,h=2===e?"<svg>":"",$=c;for(let e=0;e<i;e++){const i=t[e];let n,d,a=-1,A=0;for(;A<i.length&&($.lastIndex=A,d=$.exec(i),null!==d);)A=$.lastIndex,$===c?"!--"===d[1]?$=u:void 0!==d[1]?$=_:void 0!==d[2]?(g.test(d[2])&&(l=RegExp("</"+d[2],"g")),$=v):void 0!==d[3]&&($=v):$===v?">"===d[0]?($=null!=l?l:c,a=-1):void 0===d[1]?a=-2:(a=$.lastIndex-d[2].length,n=d[1],$=void 0===d[3]?v:'"'===d[3]?f:p):$===f||$===p?$=v:$===u||$===_?$=c:($=v,l=void 0);const m=$===v&&t[e+1].startsWith("/>")?" ":"";h+=$===c?i+r:a>=0?(s.push(n),i.slice(0,a)+"$lit$"+i.slice(a)+o+m):i+o+(-2===a?(s.push(void 0),e):m)}const d=h+(t[i]||"<?>")+(2===e?"</svg>":"");return[void 0!==n?n.createHTML(d):d,s]};class T{constructor({strings:t,_$litType$:e},i){let n;this.parts=[];let r=0,h=0;const d=t.length-1,a=this.parts,[A,c]=C(t,e);if(this.el=T.createElement(A,i),S.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(n=S.nextNode())&&a.length<d;){if(1===n.nodeType){if(n.hasAttributes()){const t=[];for(const e of n.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(o)){const i=c[h++];if(t.push(e),void 0!==i){const t=n.getAttribute(i.toLowerCase()+"$lit$").split(o),e=/([.?@])?(.*)/.exec(i);a.push({type:1,index:r,name:e[2],strings:t,ctor:"."===e[1]?U:"?"===e[1]?L:"@"===e[1]?k:I})}else a.push({type:6,index:r})}for(const e of t)n.removeAttribute(e)}if(g.test(n.tagName)){const t=n.textContent.split(o),e=t.length-1;if(e>0){n.textContent=s?s.emptyScript:"";for(let i=0;i<e;i++)n.append(t[i],$()),S.nextNode(),a.push({type:2,index:++r});n.append(t[e],$())}}}else if(8===n.nodeType)if(n.data===l)a.push({type:2,index:r});else{let t=-1;for(;-1!==(t=n.data.indexOf(o,t+1));)a.push({type:7,index:r}),t+=o.length-1}r++}}static createElement(t,e){const i=h.createElement("template");return i.innerHTML=t,i}}function w(t,e,i=t,s){var n,o,l,r;if(e===H)return e;let h=void 0!==s?null===(n=i._$Cl)||void 0===n?void 0:n[s]:i._$Cu;const $=d(e)?void 0:e._$litDirective$;return(null==h?void 0:h.constructor)!==$&&(null===(o=null==h?void 0:h._$AO)||void 0===o||o.call(h,!1),void 0===$?h=void 0:(h=new $(t),h._$AT(t,i,s)),void 0!==s?(null!==(l=(r=i)._$Cl)&&void 0!==l?l:r._$Cl=[])[s]=h:i._$Cu=h),void 0!==h&&(e=w(t,h._$AS(t,e.values),h,s)),e}class B{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:i},parts:s}=this._$AD,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:h).importNode(i,!0);S.currentNode=n;let o=S.nextNode(),l=0,r=0,$=s[0];for(;void 0!==$;){if(l===$.index){let e;2===$.type?e=new P(o,o.nextSibling,this,t):1===$.type?e=new $.ctor(o,$.name,$.strings,this,t):6===$.type&&(e=new R(o,this,t)),this.v.push(e),$=s[++r]}l!==(null==$?void 0:$.index)&&(o=S.nextNode(),l++)}return n}m(t){let e=0;for(const i of this.v)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class P{constructor(t,e,i,s){var n;this.type=2,this._$AH=b,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=s,this._$Cg=null===(n=null==s?void 0:s.isConnected)||void 0===n||n}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=w(this,t,e),d(t)?t===b||null==t||""===t?(this._$AH!==b&&this._$AR(),this._$AH=b):t!==this._$AH&&t!==H&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.S(t):A(t)?this.M(t):this.$(t)}A(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.A(t))}$(t){this._$AH!==b&&d(this._$AH)?this._$AA.nextSibling.data=t:this.S(h.createTextNode(t)),this._$AH=t}T(t){var e;const{values:i,_$litType$:s}=t,n="number"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=T.createElement(s.h,this.options)),s);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===n)this._$AH.m(i);else{const t=new B(n,this),e=t.p(this.options);t.m(i),this.S(e),this._$AH=t}}_$AC(t){let e=N.get(t.strings);return void 0===e&&N.set(t.strings,e=new T(t)),e}M(t){a(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,s=0;for(const n of t)s===e.length?e.push(i=new P(this.A($()),this.A($()),this,this.options)):i=e[s],i._$AI(n),s++;s<e.length&&(this._$AR(i&&i._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class I{constructor(t,e,i,s,n){this.type=1,this._$AH=b,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=b}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,s){const n=this.strings;let o=!1;if(void 0===n)t=w(this,t,e,0),o=!d(t)||t!==this._$AH&&t!==H,o&&(this._$AH=t);else{const s=t;let l,r;for(t=n[0],l=0;l<n.length-1;l++)r=w(this,s[i+l],e,l),r===H&&(r=this._$AH[l]),o||(o=!d(r)||r!==this._$AH[l]),r===b?t=b:t!==b&&(t+=(null!=r?r:"")+n[l+1]),this._$AH[l]=r}o&&!s&&this.k(t)}k(t){t===b?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class U extends I{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===b?void 0:t}}const E=s?s.emptyScript:"";class L extends I{constructor(){super(...arguments),this.type=4}k(t){t&&t!==b?this.element.setAttribute(this.name,E):this.element.removeAttribute(this.name)}}class k extends I{constructor(t,e,i,s,n){super(t,e,i,s,n),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=w(this,t,e,0))&&void 0!==i?i:b)===H)return;const s=this._$AH,n=t===b&&s!==b||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,o=t!==b&&(s===b||n);n&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class R{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){w(this,t)}}const D={P:"$lit$",V:o,L:l,I:1,N:C,R:B,D:A,j:w,H:P,O:I,F:L,B:k,W:U,Z:R},O=window.litHtmlPolyfillSupport;null==O||O(T,P),(null!==(t=globalThis.litHtmlVersions)&&void 0!==t?t:globalThis.litHtmlVersions=[]).push("2.0.2");const{H:W}=D,j=()=>document.createComment(""),Y=(t,e,i)=>{var s;const n=t._$AA.parentNode,o=void 0===e?t._$AB:e._$AA;if(void 0===i){const e=n.insertBefore(j(),o),s=n.insertBefore(j(),o);i=new W(e,s,t,t.options)}else{const e=i._$AB.nextSibling,l=i._$AM,r=l!==t;if(r){let e;null===(s=i._$AQ)||void 0===s||s.call(i,t),i._$AM=t,void 0!==i._$AP&&(e=t._$AU)!==l._$AU&&i._$AP(e)}if(e!==o||r){let t=i._$AA;for(;t!==e;){const e=t.nextSibling;n.insertBefore(t,o),t=e}}}return i},V=(t,e,i=t)=>(t._$AI(e,i),t),Z={},z=t=>{var e;null===(e=t._$AP)||void 0===e||e.call(t,!1,!0);let i=t._$AA;const s=t._$AB.nextSibling;for(;i!==s;){const t=i.nextSibling;i.remove(),i=t}},J=(t,e,i)=>{const s=new Map;for(let n=e;n<=i;n++)s.set(t[n],n);return s},F=(t=>(...e)=>({_$litDirective$:t,values:e}))(class extends class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}{constructor(t){if(super(t),2!==t.type)throw Error("repeat() can only be used in text expressions")}dt(t,e,i){let s;void 0===i?i=e:void 0!==e&&(s=e);const n=[],o=[];let l=0;for(const e of t)n[l]=s?s(e,l):l,o[l]=i(e,l),l++;return{values:o,keys:n}}render(t,e,i){return this.dt(t,e,i).values}update(t,[e,i,s]){var n;const o=(t=>t._$AH)(t),{values:l,keys:r}=this.dt(e,i,s);if(!Array.isArray(o))return this.ct=r,l;const h=null!==(n=this.ct)&&void 0!==n?n:this.ct=[],$=[];let d,a,A=0,c=o.length-1,u=0,_=l.length-1;for(;A<=c&&u<=_;)if(null===o[A])A++;else if(null===o[c])c--;else if(h[A]===r[u])$[u]=V(o[A],l[u]),A++,u++;else if(h[c]===r[_])$[_]=V(o[c],l[_]),c--,_--;else if(h[A]===r[_])$[_]=V(o[A],l[_]),Y(t,$[_+1],o[A]),A++,_--;else if(h[c]===r[u])$[u]=V(o[c],l[u]),Y(t,o[A],o[c]),c--,u++;else if(void 0===d&&(d=J(r,u,_),a=J(h,A,c)),d.has(h[A]))if(d.has(h[c])){const e=a.get(r[u]),i=void 0!==e?o[e]:null;if(null===i){const e=Y(t,o[A]);V(e,l[u]),$[u]=e}else $[u]=V(i,l[u]),Y(t,o[A],i),o[e]=null;u++}else z(o[c]),c--;else z(o[A]),A++;for(;u<=_;){const e=Y(t,$[_+1]);V(e,l[u]),$[u++]=e}for(;A<=c;){const t=o[A++];null!==t&&z(t)}return this.ct=r,((t,e=Z)=>{t._$AH=e})(t,$),H}});var Q=i.Al,q=i.dy,G=i.Jb,K=i.Ld,X=i.sY,tt=i.rx,et=i.YP;export{Q as _$LH,q as html,G as noChange,K as nothing,X as render,tt as repeat,et as svg};let $LH=Q,html=q,noChange=G,nothing=K,render=X,repeat=tt,svg=et;
/*!
 * GSAP 3.9.0
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
let _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults={duration:.5,overwrite:!1,delay:0},_suppressOverwrites,_bigNum=1e8,_tinyNum=1/_bigNum,_2PI=2*Math.PI,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString=value=>"string"==typeof value,_isFunction=value=>"function"==typeof value,_isNumber=value=>"number"==typeof value,_isUndefined=value=>void 0===value,_isObject=value=>"object"==typeof value,_isNotFalse=value=>!1!==value,_windowExists=()=>"undefined"!=typeof window,_isFuncOrString=value=>_isFunction(value)||_isString(value),_isTypedArray="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},_isArray=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/[\d.+\-=]+(?:e[-+]\d*)*/i,_globalTimeline,_win,_coreInitted,_doc,_globals={},_installScope={},_coreReady,_install=scope=>(_installScope=_merge(scope,_globals))&&gsap,_missingPlugin=(property,value)=>console.warn("Invalid property",property,"set to",value,"Missing plugin? gsap.registerPlugin()"),_warn=(message,suppress)=>!suppress&&console.warn(message),_addGlobal=(name,obj)=>name&&(_globals[name]=obj)&&_installScope&&(_installScope[name]=obj)||_globals,_emptyFunc=()=>0,_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=targets=>{let target=targets[0],harnessPlugin,i;if(_isObject(target)||_isFunction(target)||(targets=[targets]),!(harnessPlugin=(target._gsap||{}).harness)){for(i=_harnessPlugins.length;i--&&!_harnessPlugins[i].targetTest(target););harnessPlugin=_harnessPlugins[i]}for(i=targets.length;i--;)targets[i]&&(targets[i]._gsap||(targets[i]._gsap=new GSCache(targets[i],harnessPlugin)))||targets.splice(i,1);return targets},_getCache=target=>target._gsap||_harness(toArray(target))[0]._gsap,_getProperty=(target,property,v)=>(v=target[property])&&_isFunction(v)?target[property]():_isUndefined(v)&&target.getAttribute&&target.getAttribute(property)||v,_forEachName=(names,func)=>(names=names.split(",")).forEach(func)||names,_round=value=>Math.round(1e5*value)/1e5||0,_roundPrecise=value=>Math.round(1e7*value)/1e7||0,_arrayContainsAny=(toSearch,toFind)=>{let l=toFind.length,i=0;for(;toSearch.indexOf(toFind[i])<0&&++i<l;);return i<l},_lazyRender=()=>{let l=_lazyTweens.length,a=_lazyTweens.slice(0),i,tween;for(_lazyLookup={},_lazyTweens.length=0,i=0;i<l;i++)tween=a[i],tween&&tween._lazy&&(tween.render(tween._lazy[0],tween._lazy[1],!0)._lazy=0)},_lazySafeRender=(animation,time,suppressEvents,force)=>{_lazyTweens.length&&_lazyRender(),animation.render(time,suppressEvents,force),_lazyTweens.length&&_lazyRender()},_numericIfPossible=value=>{let n=parseFloat(value);return(n||0===n)&&(value+"").match(_delimitedValueExp).length<2?n:_isString(value)?value.trim():value},_passThrough=p=>p,_setDefaults=(obj,defaults)=>{for(let p in defaults)p in obj||(obj[p]=defaults[p]);return obj},_setKeyframeDefaults=excludeDuration=>(obj,defaults)=>{for(let p in defaults)p in obj||"duration"===p&&excludeDuration||"ease"===p||(obj[p]=defaults[p])},_merge=(base,toMerge)=>{for(let p in toMerge)base[p]=toMerge[p];return base},_mergeDeep=(base,toMerge)=>{for(let p in toMerge)"__proto__"!==p&&"constructor"!==p&&"prototype"!==p&&(base[p]=_isObject(toMerge[p])?_mergeDeep(base[p]||(base[p]={}),toMerge[p]):toMerge[p]);return base},_copyExcluding=(obj,excluding)=>{let copy={},p;for(p in obj)p in excluding||(copy[p]=obj[p]);return copy},_inheritDefaults=vars=>{let parent=vars.parent||_globalTimeline,func=vars.keyframes?_setKeyframeDefaults(_isArray(vars.keyframes)):_setDefaults;if(_isNotFalse(vars.inherit))for(;parent;)func(vars,parent.vars.defaults),parent=parent.parent||parent._dp;return vars},_arraysMatch=(a1,a2)=>{let i=a1.length,match=i===a2.length;for(;match&&i--&&a1[i]===a2[i];);return i<0},_addLinkedListItem=(parent,child,firstProp="_first",lastProp="_last",sortBy)=>{let prev=parent[lastProp],t;if(sortBy)for(t=child[sortBy];prev&&prev[sortBy]>t;)prev=prev._prev;return prev?(child._next=prev._next,prev._next=child):(child._next=parent[firstProp],parent[firstProp]=child),child._next?child._next._prev=child:parent[lastProp]=child,child._prev=prev,child.parent=child._dp=parent,child},_removeLinkedListItem=(parent,child,firstProp="_first",lastProp="_last")=>{let prev=child._prev,next=child._next;prev?prev._next=next:parent[firstProp]===child&&(parent[firstProp]=next),next?next._prev=prev:parent[lastProp]===child&&(parent[lastProp]=prev),child._next=child._prev=child.parent=null},_removeFromParent=(child,onlyIfParentHasAutoRemove)=>{child.parent&&(!onlyIfParentHasAutoRemove||child.parent.autoRemoveChildren)&&child.parent.remove(child),child._act=0},_uncache=(animation,child)=>{if(animation&&(!child||child._end>animation._dur||child._start<0)){let a=animation;for(;a;)a._dirty=1,a=a.parent}return animation},_recacheAncestors=animation=>{let parent=animation.parent;for(;parent&&parent.parent;)parent._dirty=1,parent.totalDuration(),parent=parent.parent;return animation},_hasNoPausedAncestors=animation=>!animation||animation._ts&&_hasNoPausedAncestors(animation.parent),_elapsedCycleDuration=animation=>animation._repeat?_animationCycle(animation._tTime,animation=animation.duration()+animation._rDelay)*animation:0,_animationCycle=(tTime,cycleDuration)=>{let whole=Math.floor(tTime/=cycleDuration);return tTime&&whole===tTime?whole-1:whole},_parentToChildTotalTime=(parentTime,child)=>(parentTime-child._start)*child._ts+(child._ts>=0?0:child._dirty?child.totalDuration():child._tDur),_setEnd=animation=>animation._end=_roundPrecise(animation._start+(animation._tDur/Math.abs(animation._ts||animation._rts||_tinyNum)||0)),_alignPlayhead=(animation,totalTime)=>{let parent=animation._dp;return parent&&parent.smoothChildTiming&&animation._ts&&(animation._start=_roundPrecise(parent._time-(animation._ts>0?totalTime/animation._ts:((animation._dirty?animation.totalDuration():animation._tDur)-totalTime)/-animation._ts)),_setEnd(animation),parent._dirty||_uncache(parent,animation)),animation},_postAddChecks=(timeline,child)=>{let t;if((child._time||child._initted&&!child._dur)&&(t=_parentToChildTotalTime(timeline.rawTime(),child),(!child._dur||_clamp(0,child.totalDuration(),t)-child._tTime>_tinyNum)&&child.render(t,!0)),_uncache(timeline,child)._dp&&timeline._initted&&timeline._time>=timeline._dur&&timeline._ts){if(timeline._dur<timeline.duration())for(t=timeline;t._dp;)t.rawTime()>=0&&t.totalTime(t._tTime),t=t._dp;timeline._zTime=-_tinyNum}},_addToTimeline=(timeline,child,position,skipChecks)=>(child.parent&&_removeFromParent(child),child._start=_roundPrecise((_isNumber(position)?position:position||timeline!==_globalTimeline?_parsePosition(timeline,position,child):timeline._time)+child._delay),child._end=_roundPrecise(child._start+(child.totalDuration()/Math.abs(child.timeScale())||0)),_addLinkedListItem(timeline,child,"_first","_last",timeline._sort?"_start":0),_isFromOrFromStart(child)||(timeline._recent=child),skipChecks||_postAddChecks(timeline,child),timeline),_scrollTrigger=(animation,trigger)=>(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",trigger))&&_globals.ScrollTrigger.create(trigger,animation),_attemptInitTween=(tween,totalTime,force,suppressEvents)=>(_initTween(tween,totalTime),tween._initted?!force&&tween._pt&&(tween._dur&&!1!==tween.vars.lazy||!tween._dur&&tween.vars.lazy)&&_lastRenderedFrame!==_ticker.frame?(_lazyTweens.push(tween),tween._lazy=[totalTime,suppressEvents],1):void 0:1),_parentPlayheadIsBeforeStart=({parent:parent})=>parent&&parent._ts&&parent._initted&&!parent._lock&&(parent.rawTime()<0||_parentPlayheadIsBeforeStart(parent)),_isFromOrFromStart=({data:data})=>"isFromStart"===data||"isStart"===data,_renderZeroDurationTween=(tween,totalTime,suppressEvents,force)=>{let prevRatio=tween.ratio,ratio=totalTime<0||!totalTime&&(!tween._start&&_parentPlayheadIsBeforeStart(tween)&&(tween._initted||!_isFromOrFromStart(tween))||(tween._ts<0||tween._dp._ts<0)&&!_isFromOrFromStart(tween))?0:1,repeatDelay=tween._rDelay,tTime=0,pt,iteration,prevIteration;if(repeatDelay&&tween._repeat&&(tTime=_clamp(0,tween._tDur,totalTime),iteration=_animationCycle(tTime,repeatDelay),tween._yoyo&&1&iteration&&(ratio=1-ratio),iteration!==_animationCycle(tween._tTime,repeatDelay)&&(prevRatio=1-ratio,tween.vars.repeatRefresh&&tween._initted&&tween.invalidate())),ratio!==prevRatio||force||tween._zTime===_tinyNum||!totalTime&&tween._zTime){if(!tween._initted&&_attemptInitTween(tween,totalTime,force,suppressEvents))return;for(prevIteration=tween._zTime,tween._zTime=totalTime||(suppressEvents?_tinyNum:0),suppressEvents||(suppressEvents=totalTime&&!prevIteration),tween.ratio=ratio,tween._from&&(ratio=1-ratio),tween._time=0,tween._tTime=tTime,pt=tween._pt;pt;)pt.r(ratio,pt.d),pt=pt._next;tween._startAt&&totalTime<0&&tween._startAt.render(totalTime,!0,!0),tween._onUpdate&&!suppressEvents&&_callback(tween,"onUpdate"),tTime&&tween._repeat&&!suppressEvents&&tween.parent&&_callback(tween,"onRepeat"),(totalTime>=tween._tDur||totalTime<0)&&tween.ratio===ratio&&(ratio&&_removeFromParent(tween,1),suppressEvents||(_callback(tween,ratio?"onComplete":"onReverseComplete",!0),tween._prom&&tween._prom()))}else tween._zTime||(tween._zTime=totalTime)},_findNextPauseTween=(animation,prevTime,time)=>{let child;if(time>prevTime)for(child=animation._first;child&&child._start<=time;){if("isPause"===child.data&&child._start>prevTime)return child;child=child._next}else for(child=animation._last;child&&child._start>=time;){if("isPause"===child.data&&child._start<prevTime)return child;child=child._prev}},_setDuration=(animation,duration,skipUncache,leavePlayhead)=>{let repeat=animation._repeat,dur=_roundPrecise(duration)||0,totalProgress=animation._tTime/animation._tDur;return totalProgress&&!leavePlayhead&&(animation._time*=dur/animation._dur),animation._dur=dur,animation._tDur=repeat?repeat<0?1e10:_roundPrecise(dur*(repeat+1)+animation._rDelay*repeat):dur,totalProgress>0&&!leavePlayhead?_alignPlayhead(animation,animation._tTime=animation._tDur*totalProgress):animation.parent&&_setEnd(animation),skipUncache||_uncache(animation.parent,animation),animation},_onUpdateTotalDuration=animation=>animation instanceof Timeline?_uncache(animation):_setDuration(animation,animation._dur),_zeroPosition={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},_parsePosition=(animation,position,percentAnimation)=>{let labels=animation.labels,recent=animation._recent||_zeroPosition,clippedDuration=animation.duration()>=_bigNum?recent.endTime(!1):animation._dur,i,offset,isPercent;return _isString(position)&&(isNaN(position)||position in labels)?(offset=position.charAt(0),isPercent="%"===position.substr(-1),i=position.indexOf("="),"<"===offset||">"===offset?(i>=0&&(position=position.replace(/=/,"")),("<"===offset?recent._start:recent.endTime(recent._repeat>=0))+(parseFloat(position.substr(1))||0)*(isPercent?(i<0?recent:percentAnimation).totalDuration()/100:1)):i<0?(position in labels||(labels[position]=clippedDuration),labels[position]):(offset=parseFloat(position.charAt(i-1)+position.substr(i+1)),isPercent&&percentAnimation&&(offset=offset/100*(_isArray(percentAnimation)?percentAnimation[0]:percentAnimation).totalDuration()),i>1?_parsePosition(animation,position.substr(0,i-1),percentAnimation)+offset:clippedDuration+offset)):null==position?clippedDuration:+position},_createTweenType=(type,params,timeline)=>{let isLegacy=_isNumber(params[1]),varsIndex=(isLegacy?2:1)+(type<2?0:1),vars=params[varsIndex],irVars,parent;if(isLegacy&&(vars.duration=params[1]),vars.parent=timeline,type){for(irVars=vars,parent=timeline;parent&&!("immediateRender"in irVars);)irVars=parent.vars.defaults||{},parent=_isNotFalse(parent.vars.inherit)&&parent.parent;vars.immediateRender=_isNotFalse(irVars.immediateRender),type<2?vars.runBackwards=1:vars.startAt=params[varsIndex-1]}return new Tween(params[0],vars,params[varsIndex+1])},_conditionalReturn=(value,func)=>value||0===value?func(value):func,_clamp=(min,max,value)=>value<min?min:value>max?max:value,getUnit=(value,v)=>_isString(value)&&(v=_unitExp.exec(value))?value.substr(v.index+v[0].length):"",clamp=(min,max,value)=>_conditionalReturn(value,v=>_clamp(min,max,v)),_slice=[].slice,_isArrayLike=(value,nonEmpty)=>value&&_isObject(value)&&"length"in value&&(!nonEmpty&&!value.length||value.length-1 in value&&_isObject(value[0]))&&!value.nodeType&&value!==_win,_flatten=(ar,leaveStrings,accumulator=[])=>ar.forEach(value=>_isString(value)&&!leaveStrings||_isArrayLike(value,1)?accumulator.push(...toArray(value)):accumulator.push(value))||accumulator,toArray=(value,scope,leaveStrings)=>!_isString(value)||leaveStrings||!_coreInitted&&_wake()?_isArray(value)?_flatten(value,leaveStrings):_isArrayLike(value)?_slice.call(value,0):value?[value]:[]:_slice.call((scope||_doc).querySelectorAll(value),0),selector=value=>(value=toArray(value)[0]||_warn("Invalid scope")||{},v=>{let el=value.current||value.nativeElement||value;return toArray(v,el.querySelectorAll?el:el===value?_warn("Invalid scope")||_doc.createElement("div"):value)}),shuffle=a=>a.sort(()=>.5-Math.random()),distribute=v=>{if(_isFunction(v))return v;let vars=_isObject(v)?v:{each:v},ease=_parseEase(vars.ease),from=vars.from||0,base=parseFloat(vars.base)||0,cache={},isDecimal=from>0&&from<1,ratios=isNaN(from)||isDecimal,axis=vars.axis,ratioX=from,ratioY=from;return _isString(from)?ratioX=ratioY={center:.5,edges:.5,end:1}[from]||0:!isDecimal&&ratios&&(ratioX=from[0],ratioY=from[1]),(i,target,a)=>{let l=(a||vars).length,distances=cache[l],originX,originY,x,y,d,j,max,min,wrapAt;if(!distances){if(wrapAt="auto"===vars.grid?0:(vars.grid||[1,_bigNum])[1],!wrapAt){for(max=-_bigNum;max<(max=a[wrapAt++].getBoundingClientRect().left)&&wrapAt<l;);wrapAt--}for(distances=cache[l]=[],originX=ratios?Math.min(wrapAt,l)*ratioX-.5:from%wrapAt,originY=wrapAt===_bigNum?0:ratios?l*ratioY/wrapAt-.5:from/wrapAt|0,max=0,min=_bigNum,j=0;j<l;j++)x=j%wrapAt-originX,y=originY-(j/wrapAt|0),distances[j]=d=axis?Math.abs("y"===axis?y:x):_sqrt(x*x+y*y),d>max&&(max=d),d<min&&(min=d);"random"===from&&shuffle(distances),distances.max=max-min,distances.min=min,distances.v=l=(parseFloat(vars.amount)||parseFloat(vars.each)*(wrapAt>l?l-1:axis?"y"===axis?l/wrapAt:wrapAt:Math.max(wrapAt,l/wrapAt))||0)*("edges"===from?-1:1),distances.b=l<0?base-l:base,distances.u=getUnit(vars.amount||vars.each)||0,ease=ease&&l<0?_invertEase(ease):ease}return l=(distances[i]-distances.min)/distances.max||0,_roundPrecise(distances.b+(ease?ease(l):l)*distances.v)+distances.u}},_roundModifier=v=>{let p=Math.pow(10,((v+"").split(".")[1]||"").length);return raw=>{let n=Math.round(parseFloat(raw)/v)*v*p;return(n-n%1)/p+(_isNumber(raw)?0:getUnit(raw))}},snap=(snapTo,value)=>{let isArray=_isArray(snapTo),radius,is2D;return!isArray&&_isObject(snapTo)&&(radius=isArray=snapTo.radius||_bigNum,snapTo.values?(snapTo=toArray(snapTo.values),(is2D=!_isNumber(snapTo[0]))&&(radius*=radius)):snapTo=_roundModifier(snapTo.increment)),_conditionalReturn(value,isArray?_isFunction(snapTo)?raw=>(is2D=snapTo(raw),Math.abs(is2D-raw)<=radius?is2D:raw):raw=>{let x=parseFloat(is2D?raw.x:raw),y=parseFloat(is2D?raw.y:0),min=_bigNum,closest=0,i=snapTo.length,dx,dy;for(;i--;)is2D?(dx=snapTo[i].x-x,dy=snapTo[i].y-y,dx=dx*dx+dy*dy):dx=Math.abs(snapTo[i]-x),dx<min&&(min=dx,closest=i);return closest=!radius||min<=radius?snapTo[closest]:raw,is2D||closest===raw||_isNumber(raw)?closest:closest+getUnit(raw)}:_roundModifier(snapTo))},random=(min,max,roundingIncrement,returnFunction)=>_conditionalReturn(_isArray(min)?!max:!0===roundingIncrement?!!(roundingIncrement=0):!returnFunction,()=>_isArray(min)?min[~~(Math.random()*min.length)]:(roundingIncrement=roundingIncrement||1e-5)&&(returnFunction=roundingIncrement<1?10**((roundingIncrement+"").length-2):1)&&Math.floor(Math.round((min-roundingIncrement/2+Math.random()*(max-min+.99*roundingIncrement))/roundingIncrement)*roundingIncrement*returnFunction)/returnFunction),pipe=(...functions)=>value=>functions.reduce((v,f)=>f(v),value),unitize=(func,unit)=>value=>func(parseFloat(value))+(unit||getUnit(value)),normalize=(min,max,value)=>mapRange(min,max,0,1,value),_wrapArray=(a,wrapper,value)=>_conditionalReturn(value,index=>a[~~wrapper(index)]),wrap=function(min,max,value){let range=max-min;return _isArray(min)?_wrapArray(min,wrap(0,min.length),max):_conditionalReturn(value,value=>(range+(value-min)%range)%range+min)},wrapYoyo=(min,max,value)=>{let range=max-min,total=2*range;return _isArray(min)?_wrapArray(min,wrapYoyo(0,min.length-1),max):_conditionalReturn(value,value=>min+((value=(total+(value-min)%total)%total||0)>range?total-value:value))},_replaceRandom=value=>{let prev=0,s="",i,nums,end,isArray;for(;~(i=value.indexOf("random(",prev));)end=value.indexOf(")",i),isArray="["===value.charAt(i+7),nums=value.substr(i+7,end-i-7).match(isArray?_delimitedValueExp:_strictNumExp),s+=value.substr(prev,i-prev)+random(isArray?nums:+nums[0],isArray?0:+nums[1],+nums[2]||1e-5),prev=end+1;return s+value.substr(prev,value.length-prev)},mapRange=(inMin,inMax,outMin,outMax,value)=>{let inRange=inMax-inMin,outRange=outMax-outMin;return _conditionalReturn(value,value=>outMin+((value-inMin)/inRange*outRange||0))},interpolate=(start,end,progress,mutate)=>{let func=isNaN(start+end)?0:p=>(1-p)*start+p*end;if(!func){let isString=_isString(start),master={},p,i,interpolators,l,il;if(!0===progress&&(mutate=1)&&(progress=null),isString)start={p:start},end={p:end};else if(_isArray(start)&&!_isArray(end)){for(interpolators=[],l=start.length,il=l-2,i=1;i<l;i++)interpolators.push(interpolate(start[i-1],start[i]));l--,func=p=>{p*=l;let i=Math.min(il,~~p);return interpolators[i](p-i)},progress=end}else mutate||(start=_merge(_isArray(start)?[]:{},start));if(!interpolators){for(p in end)_addPropTween.call(master,start,p,"get",end[p]);func=p=>_renderPropTweens(p,master)||(isString?start.p:start)}}return _conditionalReturn(progress,func)},_getLabelInDirection=(timeline,fromTime,backward)=>{let labels=timeline.labels,min=_bigNum,p,distance,label;for(p in labels)distance=labels[p]-fromTime,distance<0==!!backward&&distance&&min>(distance=Math.abs(distance))&&(label=p,min=distance);return label},_callback=(animation,type,executeLazyFirst)=>{let v=animation.vars,callback=v[type],params,scope;if(callback)return params=v[type+"Params"],scope=v.callbackScope||animation,executeLazyFirst&&_lazyTweens.length&&_lazyRender(),params?callback.apply(scope,params):callback.call(scope)},_interrupt=animation=>(_removeFromParent(animation),animation.scrollTrigger&&animation.scrollTrigger.kill(!1),animation.progress()<1&&_callback(animation,"onInterrupt"),animation),_quickTween,_createPlugin=config=>{let name=(config=!config.name&&config.default||config).name,isFunc=_isFunction(config),Plugin=name&&!isFunc&&config.init?function(){this._props=[]}:config,instanceDefaults={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},statics={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),config!==Plugin){if(_plugins[name])return;_setDefaults(Plugin,_setDefaults(_copyExcluding(config,instanceDefaults),statics)),_merge(Plugin.prototype,_merge(instanceDefaults,_copyExcluding(config,statics))),_plugins[Plugin.prop=name]=Plugin,config.targetTest&&(_harnessPlugins.push(Plugin),_reservedProps[name]=1),name=("css"===name?"CSS":name.charAt(0).toUpperCase()+name.substr(1))+"Plugin"}_addGlobal(name,Plugin),config.register&&config.register(gsap,Plugin,PropTween)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=(h,m1,m2)=>(6*(h+=h<0?1:h>1?-1:0)<1?m1+(m2-m1)*h*6:h<.5?m2:3*h<2?m1+(m2-m1)*(2/3-h)*6:m1)*_255+.5|0,splitColor=(v,toHSL,forceAlpha)=>{let a=v?_isNumber(v)?[v>>16,v>>8&_255,v&_255]:0:_colorLookup.black,r,g,b,h,s,l,max,min,d,wasHSL;if(!a){if(","===v.substr(-1)&&(v=v.substr(0,v.length-1)),_colorLookup[v])a=_colorLookup[v];else if("#"===v.charAt(0)){if(v.length<6&&(r=v.charAt(1),g=v.charAt(2),b=v.charAt(3),v="#"+r+r+g+g+b+b+(5===v.length?v.charAt(4)+v.charAt(4):"")),9===v.length)return a=parseInt(v.substr(1,6),16),[a>>16,a>>8&_255,a&_255,parseInt(v.substr(7),16)/255];a=[(v=parseInt(v.substr(1),16))>>16,v>>8&_255,v&_255]}else if("hsl"===v.substr(0,3))if(a=wasHSL=v.match(_strictNumExp),toHSL){if(~v.indexOf("="))return a=v.match(_numExp),forceAlpha&&a.length<4&&(a[3]=1),a}else h=+a[0]%360/360,s=+a[1]/100,l=+a[2]/100,g=l<=.5?l*(s+1):l+s-l*s,r=2*l-g,a.length>3&&(a[3]*=1),a[0]=_hue(h+1/3,r,g),a[1]=_hue(h,r,g),a[2]=_hue(h-1/3,r,g);else a=v.match(_strictNumExp)||_colorLookup.transparent;a=a.map(Number)}return toHSL&&!wasHSL&&(r=a[0]/_255,g=a[1]/_255,b=a[2]/_255,max=Math.max(r,g,b),min=Math.min(r,g,b),l=(max+min)/2,max===min?h=s=0:(d=max-min,s=l>.5?d/(2-max-min):d/(max+min),h=max===r?(g-b)/d+(g<b?6:0):max===g?(b-r)/d+2:(r-g)/d+4,h*=60),a[0]=~~(h+.5),a[1]=~~(100*s+.5),a[2]=~~(100*l+.5)),forceAlpha&&a.length<4&&(a[3]=1),a},_colorOrderData=v=>{let values=[],c=[],i=-1;return v.split(_colorExp).forEach(v=>{let a=v.match(_numWithUnitExp)||[];values.push(...a),c.push(i+=a.length+1)}),values.c=c,values},_formatColors=(s,toHSL,orderMatchData)=>{let result="",colors=(s+result).match(_colorExp),type=toHSL?"hsla(":"rgba(",i=0,c,shell,d,l;if(!colors)return s;if(colors=colors.map(color=>(color=splitColor(color,toHSL,1))&&type+(toHSL?color[0]+","+color[1]+"%,"+color[2]+"%,"+color[3]:color.join(","))+")"),orderMatchData&&(d=_colorOrderData(s),c=orderMatchData.c,c.join(result)!==d.c.join(result)))for(shell=s.replace(_colorExp,"1").split(_numWithUnitExp),l=shell.length-1;i<l;i++)result+=shell[i]+(~c.indexOf(i)?colors.shift()||type+"0,0,0,0)":(d.length?d:colors.length?colors:orderMatchData).shift());if(!shell)for(shell=s.split(_colorExp),l=shell.length-1;i<l;i++)result+=shell[i]+colors[i];return result+shell[l]},_colorExp=function(){let s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",p;for(p in _colorLookup)s+="|"+p+"\\b";return new RegExp(s+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=a=>{let combined=a.join(" "),toHSL;if(_colorExp.lastIndex=0,_colorExp.test(combined))return toHSL=_hslExp.test(combined),a[1]=_formatColors(a[1],toHSL),a[0]=_formatColors(a[0],toHSL,_colorOrderData(a[1])),!0},_tickerActive,_ticker=function(){let _getTime=Date.now,_lagThreshold=500,_adjustedLag=33,_startTime=_getTime(),_lastUpdate=_startTime,_gap=1e3/240,_nextTime=_gap,_listeners=[],_id,_req,_raf,_self,_delta,_i,_tick=v=>{let elapsed=_getTime()-_lastUpdate,manual=!0===v,overlap,dispatch,time,frame;if(elapsed>_lagThreshold&&(_startTime+=elapsed-_adjustedLag),_lastUpdate+=elapsed,time=_lastUpdate-_startTime,overlap=time-_nextTime,(overlap>0||manual)&&(frame=++_self.frame,_delta=time-1e3*_self.time,_self.time=time/=1e3,_nextTime+=overlap+(overlap>=_gap?4:_gap-overlap),dispatch=1),manual||(_id=_req(_tick)),dispatch)for(_i=0;_i<_listeners.length;_i++)_listeners[_i](time,_delta,frame,v)};return _self={time:0,frame:0,tick(){_tick(!0)},deltaRatio:fps=>_delta/(1e3/(fps||60)),wake(){_coreReady&&(!_coreInitted&&_windowExists()&&(_win=_coreInitted=window,_doc=_win.document||{},_globals.gsap=gsap,(_win.gsapVersions||(_win.gsapVersions=[])).push(gsap.version),_install(_installScope||_win.GreenSockGlobals||!_win.gsap&&_win||{}),_raf=_win.requestAnimationFrame),_id&&_self.sleep(),_req=_raf||(f=>setTimeout(f,_nextTime-1e3*_self.time+1|0)),_tickerActive=1,_tick(2))},sleep(){(_raf?_win.cancelAnimationFrame:clearTimeout)(_id),_tickerActive=0,_req=_emptyFunc},lagSmoothing(threshold,adjustedLag){_lagThreshold=threshold||1/_tinyNum,_adjustedLag=Math.min(adjustedLag,_lagThreshold,0)},fps(fps){_gap=1e3/(fps||240),_nextTime=1e3*_self.time+_gap},add(callback){_listeners.indexOf(callback)<0&&_listeners.push(callback),_wake()},remove(callback,i){~(i=_listeners.indexOf(callback))&&_listeners.splice(i,1)&&_i>=i&&_i--},_listeners:_listeners},_self}(),_wake=()=>!_tickerActive&&_ticker.wake(),_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=value=>{let obj={},split=value.substr(1,value.length-3).split(":"),key=split[0],i=1,l=split.length,index,val,parsedVal;for(;i<l;i++)val=split[i],index=i!==l-1?val.lastIndexOf(","):val.length,parsedVal=val.substr(0,index),obj[key]=isNaN(parsedVal)?parsedVal.replace(_quotesExp,"").trim():+parsedVal,key=val.substr(index+1).trim();return obj},_valueInParentheses=value=>{let open=value.indexOf("(")+1,close=value.indexOf(")"),nested=value.indexOf("(",open);return value.substring(open,~nested&&nested<close?value.indexOf(")",close+1):close)},_configEaseFromString=name=>{let split=(name+"").split("("),ease=_easeMap[split[0]];return ease&&split.length>1&&ease.config?ease.config.apply(null,~name.indexOf("{")?[_parseObjectInString(split[1])]:_valueInParentheses(name).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(name)?_easeMap._CE("",name):ease},_invertEase=ease=>p=>1-ease(1-p),_propagateYoyoEase=(timeline,isYoyo)=>{let child=timeline._first,ease;for(;child;)child instanceof Timeline?_propagateYoyoEase(child,isYoyo):!child.vars.yoyoEase||child._yoyo&&child._repeat||child._yoyo===isYoyo||(child.timeline?_propagateYoyoEase(child.timeline,isYoyo):(ease=child._ease,child._ease=child._yEase,child._yEase=ease,child._yoyo=isYoyo)),child=child._next},_parseEase=(ease,defaultEase)=>ease&&(_isFunction(ease)?ease:_easeMap[ease]||_configEaseFromString(ease))||defaultEase,_insertEase=(names,easeIn,easeOut=(p=>1-easeIn(1-p)),easeInOut=(p=>p<.5?easeIn(2*p)/2:1-easeIn(2*(1-p))/2))=>{let ease={easeIn:easeIn,easeOut:easeOut,easeInOut:easeInOut},lowercaseName;return _forEachName(names,name=>{_easeMap[name]=_globals[name]=ease,_easeMap[lowercaseName=name.toLowerCase()]=easeOut;for(let p in ease)_easeMap[lowercaseName+("easeIn"===p?".in":"easeOut"===p?".out":".inOut")]=_easeMap[name+"."+p]=ease[p]}),ease},_easeInOutFromOut=easeOut=>p=>p<.5?(1-easeOut(1-2*p))/2:.5+easeOut(2*(p-.5))/2,_configElastic=(type,amplitude,period)=>{let p1=amplitude>=1?amplitude:1,p2=(period||(type?.3:.45))/(amplitude<1?amplitude:1),p3=p2/_2PI*(Math.asin(1/p1)||0),easeOut=p=>1===p?1:p1*2**(-10*p)*_sin((p-p3)*p2)+1,ease="out"===type?easeOut:"in"===type?p=>1-easeOut(1-p):_easeInOutFromOut(easeOut);return p2=_2PI/p2,ease.config=(amplitude,period)=>_configElastic(type,amplitude,period),ease},_configBack=(type,overshoot=1.70158)=>{let easeOut=p=>p?--p*p*((overshoot+1)*p+overshoot)+1:0,ease="out"===type?easeOut:"in"===type?p=>1-easeOut(1-p):_easeInOutFromOut(easeOut);return ease.config=overshoot=>_configBack(type,overshoot),ease};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",(name,i)=>{let power=i<5?i+1:i;_insertEase(name+",Power"+(power-1),i?p=>p**power:p=>p,p=>1-(1-p)**power,p=>p<.5?(2*p)**power/2:1-(2*(1-p))**power/2)}),_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn,_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic()),((n,c)=>{let n1=1/c,n2=2*n1,n3=2.5*n1,easeOut=p=>p<n1?n*p*p:p<n2?n*(p-1.5/c)**2+.75:p<n3?n*(p-=2.25/c)*p+.9375:n*(p-2.625/c)**2+.984375;_insertEase("Bounce",p=>1-easeOut(1-p),easeOut)})(7.5625,2.75),_insertEase("Expo",p=>p?2**(10*(p-1)):0),_insertEase("Circ",p=>-(_sqrt(1-p*p)-1)),_insertEase("Sine",p=>1===p?1:1-_cos(p*_HALF_PI)),_insertEase("Back",_configBack("in"),_configBack("out"),_configBack()),_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config(steps=1,immediateStart){let p1=1/steps,p2=steps+(immediateStart?0:1),p3=immediateStart?1:0,max=1-_tinyNum;return p=>((p2*_clamp(0,max,p)|0)+p3)*p1}},_defaults.ease=_easeMap["quad.out"],_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",name=>_callbackNames+=name+","+name+"Params,");export class GSCache{constructor(target,harness){this.id=_gsID++,target._gsap=this,this.target=target,this.harness=harness,this.get=harness?harness.get:_getProperty,this.set=harness?harness.getSetter:_getSetter}}export class Animation{constructor(vars){this.vars=vars,this._delay=+vars.delay||0,(this._repeat=vars.repeat===1/0?-2:vars.repeat||0)&&(this._rDelay=vars.repeatDelay||0,this._yoyo=!!vars.yoyo||!!vars.yoyoEase),this._ts=1,_setDuration(this,+vars.duration,1,1),this.data=vars.data,_tickerActive||_ticker.wake()}delay(value){return value||0===value?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+value-this._delay),this._delay=value,this):this._delay}duration(value){return arguments.length?this.totalDuration(this._repeat>0?value+(value+this._rDelay)*this._repeat:value):this.totalDuration()&&this._dur}totalDuration(value){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?value:(value-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur}totalTime(totalTime,suppressEvents){if(_wake(),!arguments.length)return this._tTime;let parent=this._dp;if(parent&&parent.smoothChildTiming&&this._ts){for(_alignPlayhead(this,totalTime),!parent._dp||parent.parent||_postAddChecks(parent,this);parent&&parent.parent;)parent.parent._time!==parent._start+(parent._ts>=0?parent._tTime/parent._ts:(parent.totalDuration()-parent._tTime)/-parent._ts)&&parent.totalTime(parent._tTime,!0),parent=parent.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&totalTime<this._tDur||this._ts<0&&totalTime>0||!this._tDur&&!totalTime)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==totalTime||!this._dur&&!suppressEvents||this._initted&&Math.abs(this._zTime)===_tinyNum||!totalTime&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=totalTime),_lazySafeRender(this,totalTime,suppressEvents)),this}time(value,suppressEvents){return arguments.length?this.totalTime(Math.min(this.totalDuration(),value+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(value?this._dur:0),suppressEvents):this._time}totalProgress(value,suppressEvents){return arguments.length?this.totalTime(this.totalDuration()*value,suppressEvents):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio}progress(value,suppressEvents){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?value:1-value)+_elapsedCycleDuration(this),suppressEvents):this.duration()?Math.min(1,this._time/this._dur):this.ratio}iteration(value,suppressEvents){let cycleDuration=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(value-1)*cycleDuration,suppressEvents):this._repeat?_animationCycle(this._tTime,cycleDuration)+1:1}timeScale(value){if(!arguments.length)return this._rts===-_tinyNum?0:this._rts;if(this._rts===value)return this;let tTime=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+value||0,this._ts=this._ps||value===-_tinyNum?0:this._rts,_recacheAncestors(this.totalTime(_clamp(-this._delay,this._tDur,tTime),!0)),_setEnd(this),this}paused(value){return arguments.length?(this._ps!==value&&(this._ps=value,value?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps}startTime(value){if(arguments.length){this._start=value;let parent=this.parent||this._dp;return parent&&(parent._sort||!this.parent)&&_addToTimeline(parent,this,value-this._delay),this}return this._start}endTime(includeRepeats){return this._start+(_isNotFalse(includeRepeats)?this.totalDuration():this.duration())/Math.abs(this._ts||1)}rawTime(wrapRepeats){let parent=this.parent||this._dp;return parent?wrapRepeats&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(parent.rawTime(wrapRepeats),this):this._tTime:this._tTime}globalTime(rawTime){let animation=this,time=arguments.length?rawTime:animation.rawTime();for(;animation;)time=animation._start+time/(animation._ts||1),animation=animation._dp;return time}repeat(value){return arguments.length?(this._repeat=value===1/0?-2:value,_onUpdateTotalDuration(this)):-2===this._repeat?1/0:this._repeat}repeatDelay(value){if(arguments.length){let time=this._time;return this._rDelay=value,_onUpdateTotalDuration(this),time?this.time(time):this}return this._rDelay}yoyo(value){return arguments.length?(this._yoyo=value,this):this._yoyo}seek(position,suppressEvents){return this.totalTime(_parsePosition(this,position),_isNotFalse(suppressEvents))}restart(includeDelay,suppressEvents){return this.play().totalTime(includeDelay?-this._delay:0,_isNotFalse(suppressEvents))}play(from,suppressEvents){return null!=from&&this.seek(from,suppressEvents),this.reversed(!1).paused(!1)}reverse(from,suppressEvents){return null!=from&&this.seek(from||this.totalDuration(),suppressEvents),this.reversed(!0).paused(!1)}pause(atTime,suppressEvents){return null!=atTime&&this.seek(atTime,suppressEvents),this.paused(!0)}resume(){return this.paused(!1)}reversed(value){return arguments.length?(!!value!==this.reversed()&&this.timeScale(-this._rts||(value?-_tinyNum:0)),this):this._rts<0}invalidate(){return this._initted=this._act=0,this._zTime=-_tinyNum,this}isActive(){let parent=this.parent||this._dp,start=this._start,rawTime;return!(parent&&!(this._ts&&this._initted&&parent.isActive()&&(rawTime=parent.rawTime(!0))>=start&&rawTime<this.endTime(!0)-_tinyNum))}eventCallback(type,callback,params){let vars=this.vars;return arguments.length>1?(callback?(vars[type]=callback,params&&(vars[type+"Params"]=params),"onUpdate"===type&&(this._onUpdate=callback)):delete vars[type],this):vars[type]}then(onFulfilled){let self=this;return new Promise(resolve=>{let f=_isFunction(onFulfilled)?onFulfilled:_passThrough,_resolve=()=>{let _then=self.then;self.then=null,_isFunction(f)&&(f=f(self))&&(f.then||f===self)&&(self.then=_then),resolve(f),self.then=_then};self._initted&&1===self.totalProgress()&&self._ts>=0||!self._tTime&&self._ts<0?_resolve():self._prom=_resolve})}kill(){_interrupt(this)}}_setDefaults(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_tinyNum,_prom:0,_ps:!1,_rts:1});export class Timeline extends Animation{constructor(vars={},position){super(vars),this.labels={},this.smoothChildTiming=!!vars.smoothChildTiming,this.autoRemoveChildren=!!vars.autoRemoveChildren,this._sort=_isNotFalse(vars.sortChildren),_globalTimeline&&_addToTimeline(vars.parent||_globalTimeline,this,position),vars.reversed&&this.reverse(),vars.paused&&this.paused(!0),vars.scrollTrigger&&_scrollTrigger(this,vars.scrollTrigger)}to(targets,vars,position){return _createTweenType(0,arguments,this),this}from(targets,vars,position){return _createTweenType(1,arguments,this),this}fromTo(targets,fromVars,toVars,position){return _createTweenType(2,arguments,this),this}set(targets,vars,position){return vars.duration=0,vars.parent=this,_inheritDefaults(vars).repeatDelay||(vars.repeat=0),vars.immediateRender=!!vars.immediateRender,new Tween(targets,vars,_parsePosition(this,position),1),this}call(callback,params,position){return _addToTimeline(this,Tween.delayedCall(0,callback,params),position)}staggerTo(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams){return vars.duration=duration,vars.stagger=vars.stagger||stagger,vars.onComplete=onCompleteAll,vars.onCompleteParams=onCompleteAllParams,vars.parent=this,new Tween(targets,vars,_parsePosition(this,position)),this}staggerFrom(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams){return vars.runBackwards=1,_inheritDefaults(vars).immediateRender=_isNotFalse(vars.immediateRender),this.staggerTo(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams)}staggerFromTo(targets,duration,fromVars,toVars,stagger,position,onCompleteAll,onCompleteAllParams){return toVars.startAt=fromVars,_inheritDefaults(toVars).immediateRender=_isNotFalse(toVars.immediateRender),this.staggerTo(targets,duration,toVars,stagger,position,onCompleteAll,onCompleteAllParams)}render(totalTime,suppressEvents,force){let prevTime=this._time,tDur=this._dirty?this.totalDuration():this._tDur,dur=this._dur,tTime=totalTime<=0?0:_roundPrecise(totalTime),crossingStart=this._zTime<0!=totalTime<0&&(this._initted||!dur),time,child,next,iteration,cycleDuration,prevPaused,pauseTween,timeScale,prevStart,prevIteration,yoyo,isYoyo;if(this!==_globalTimeline&&tTime>tDur&&totalTime>=0&&(tTime=tDur),tTime!==this._tTime||force||crossingStart){if(prevTime!==this._time&&dur&&(tTime+=this._time-prevTime,totalTime+=this._time-prevTime),time=tTime,prevStart=this._start,timeScale=this._ts,prevPaused=!timeScale,crossingStart&&(dur||(prevTime=this._zTime),(totalTime||!suppressEvents)&&(this._zTime=totalTime)),this._repeat){if(yoyo=this._yoyo,cycleDuration=dur+this._rDelay,this._repeat<-1&&totalTime<0)return this.totalTime(100*cycleDuration+totalTime,suppressEvents,force);if(time=_roundPrecise(tTime%cycleDuration),tTime===tDur?(iteration=this._repeat,time=dur):(iteration=~~(tTime/cycleDuration),iteration&&iteration===tTime/cycleDuration&&(time=dur,iteration--),time>dur&&(time=dur)),prevIteration=_animationCycle(this._tTime,cycleDuration),!prevTime&&this._tTime&&prevIteration!==iteration&&(prevIteration=iteration),yoyo&&1&iteration&&(time=dur-time,isYoyo=1),iteration!==prevIteration&&!this._lock){let rewinding=yoyo&&1&prevIteration,doesWrap=rewinding===(yoyo&&1&iteration);if(iteration<prevIteration&&(rewinding=!rewinding),prevTime=rewinding?0:dur,this._lock=1,this.render(prevTime||(isYoyo?0:_roundPrecise(iteration*cycleDuration)),suppressEvents,!dur)._lock=0,this._tTime=tTime,!suppressEvents&&this.parent&&_callback(this,"onRepeat"),this.vars.repeatRefresh&&!isYoyo&&(this.invalidate()._lock=1),prevTime&&prevTime!==this._time||prevPaused!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(dur=this._dur,tDur=this._tDur,doesWrap&&(this._lock=2,prevTime=rewinding?dur:-1e-4,this.render(prevTime,!0),this.vars.repeatRefresh&&!isYoyo&&this.invalidate()),this._lock=0,!this._ts&&!prevPaused)return this;_propagateYoyoEase(this,isYoyo)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(pauseTween=_findNextPauseTween(this,_roundPrecise(prevTime),_roundPrecise(time)),pauseTween&&(tTime-=time-(time=pauseTween._start))),this._tTime=tTime,this._time=time,this._act=!timeScale,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=totalTime,prevTime=0),!prevTime&&time&&!suppressEvents&&(_callback(this,"onStart"),this._tTime!==tTime))return this;if(time>=prevTime&&totalTime>=0)for(child=this._first;child;){if(next=child._next,(child._act||time>=child._start)&&child._ts&&pauseTween!==child){if(child.parent!==this)return this.render(totalTime,suppressEvents,force);if(child.render(child._ts>0?(time-child._start)*child._ts:(child._dirty?child.totalDuration():child._tDur)+(time-child._start)*child._ts,suppressEvents,force),time!==this._time||!this._ts&&!prevPaused){pauseTween=0,next&&(tTime+=this._zTime=-_tinyNum);break}}child=next}else{child=this._last;let adjustedTime=totalTime<0?totalTime:time;for(;child;){if(next=child._prev,(child._act||adjustedTime<=child._end)&&child._ts&&pauseTween!==child){if(child.parent!==this)return this.render(totalTime,suppressEvents,force);if(child.render(child._ts>0?(adjustedTime-child._start)*child._ts:(child._dirty?child.totalDuration():child._tDur)+(adjustedTime-child._start)*child._ts,suppressEvents,force),time!==this._time||!this._ts&&!prevPaused){pauseTween=0,next&&(tTime+=this._zTime=adjustedTime?-_tinyNum:_tinyNum);break}}child=next}}if(pauseTween&&!suppressEvents&&(this.pause(),pauseTween.render(time>=prevTime?0:-_tinyNum)._zTime=time>=prevTime?1:-1,this._ts))return this._start=prevStart,_setEnd(this),this.render(totalTime,suppressEvents,force);this._onUpdate&&!suppressEvents&&_callback(this,"onUpdate",!0),(tTime===tDur&&tDur>=this.totalDuration()||!tTime&&prevTime)&&(prevStart!==this._start&&Math.abs(timeScale)===Math.abs(this._ts)||this._lock||((totalTime||!dur)&&(tTime===tDur&&this._ts>0||!tTime&&this._ts<0)&&_removeFromParent(this,1),suppressEvents||totalTime<0&&!prevTime||!tTime&&!prevTime&&tDur||(_callback(this,tTime===tDur&&totalTime>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(tTime<tDur&&this.timeScale()>0)&&this._prom())))}return this}add(child,position){if(_isNumber(position)||(position=_parsePosition(this,position,child)),!(child instanceof Animation)){if(_isArray(child))return child.forEach(obj=>this.add(obj,position)),this;if(_isString(child))return this.addLabel(child,position);if(!_isFunction(child))return this;child=Tween.delayedCall(0,child)}return this!==child?_addToTimeline(this,child,position):this}getChildren(nested=!0,tweens=!0,timelines=!0,ignoreBeforeTime=-_bigNum){let a=[],child=this._first;for(;child;)child._start>=ignoreBeforeTime&&(child instanceof Tween?tweens&&a.push(child):(timelines&&a.push(child),nested&&a.push(...child.getChildren(!0,tweens,timelines)))),child=child._next;return a}getById(id){let animations=this.getChildren(1,1,1),i=animations.length;for(;i--;)if(animations[i].vars.id===id)return animations[i]}remove(child){return _isString(child)?this.removeLabel(child):_isFunction(child)?this.killTweensOf(child):(_removeLinkedListItem(this,child),child===this._recent&&(this._recent=this._last),_uncache(this))}totalTime(totalTime,suppressEvents){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(this._ts>0?totalTime/this._ts:(this.totalDuration()-totalTime)/-this._ts))),super.totalTime(totalTime,suppressEvents),this._forcing=0,this):this._tTime}addLabel(label,position){return this.labels[label]=_parsePosition(this,position),this}removeLabel(label){return delete this.labels[label],this}addPause(position,callback,params){let t=Tween.delayedCall(0,callback||_emptyFunc,params);return t.data="isPause",this._hasPause=1,_addToTimeline(this,t,_parsePosition(this,position))}removePause(position){let child=this._first;for(position=_parsePosition(this,position);child;)child._start===position&&"isPause"===child.data&&_removeFromParent(child),child=child._next}killTweensOf(targets,props,onlyActive){let tweens=this.getTweensOf(targets,onlyActive),i=tweens.length;for(;i--;)_overwritingTween!==tweens[i]&&tweens[i].kill(targets,props);return this}getTweensOf(targets,onlyActive){let a=[],parsedTargets=toArray(targets),child=this._first,isGlobalTime=_isNumber(onlyActive),children;for(;child;)child instanceof Tween?_arrayContainsAny(child._targets,parsedTargets)&&(isGlobalTime?(!_overwritingTween||child._initted&&child._ts)&&child.globalTime(0)<=onlyActive&&child.globalTime(child.totalDuration())>onlyActive:!onlyActive||child.isActive())&&a.push(child):(children=child.getTweensOf(parsedTargets,onlyActive)).length&&a.push(...children),child=child._next;return a}tweenTo(position,vars){vars=vars||{};let tl=this,endTime=_parsePosition(tl,position),{startAt:startAt,onStart:onStart,onStartParams:onStartParams,immediateRender:immediateRender}=vars,initted,tween=Tween.to(tl,_setDefaults({ease:vars.ease||"none",lazy:!1,immediateRender:!1,time:endTime,overwrite:"auto",duration:vars.duration||Math.abs((endTime-(startAt&&"time"in startAt?startAt.time:tl._time))/tl.timeScale())||_tinyNum,onStart:()=>{if(tl.pause(),!initted){let duration=vars.duration||Math.abs((endTime-(startAt&&"time"in startAt?startAt.time:tl._time))/tl.timeScale());tween._dur!==duration&&_setDuration(tween,duration,0,1).render(tween._time,!0,!0),initted=1}onStart&&onStart.apply(tween,onStartParams||[])}},vars));return immediateRender?tween.render(0):tween}tweenFromTo(fromPosition,toPosition,vars){return this.tweenTo(toPosition,_setDefaults({startAt:{time:_parsePosition(this,fromPosition)}},vars))}recent(){return this._recent}nextLabel(afterTime=this._time){return _getLabelInDirection(this,_parsePosition(this,afterTime))}previousLabel(beforeTime=this._time){return _getLabelInDirection(this,_parsePosition(this,beforeTime),1)}currentLabel(value){return arguments.length?this.seek(value,!0):this.previousLabel(this._time+_tinyNum)}shiftChildren(amount,adjustLabels,ignoreBeforeTime=0){let child=this._first,labels=this.labels,p;for(;child;)child._start>=ignoreBeforeTime&&(child._start+=amount,child._end+=amount),child=child._next;if(adjustLabels)for(p in labels)labels[p]>=ignoreBeforeTime&&(labels[p]+=amount);return _uncache(this)}invalidate(){let child=this._first;for(this._lock=0;child;)child.invalidate(),child=child._next;return super.invalidate()}clear(includeLabels=!0){let child=this._first,next;for(;child;)next=child._next,this.remove(child),child=next;return this._dp&&(this._time=this._tTime=this._pTime=0),includeLabels&&(this.labels={}),_uncache(this)}totalDuration(value){let max=0,self=this,child=self._last,prevStart=_bigNum,prev,start,parent;if(arguments.length)return self.timeScale((self._repeat<0?self.duration():self.totalDuration())/(self.reversed()?-value:value));if(self._dirty){for(parent=self.parent;child;)prev=child._prev,child._dirty&&child.totalDuration(),start=child._start,start>prevStart&&self._sort&&child._ts&&!self._lock?(self._lock=1,_addToTimeline(self,child,start-child._delay,1)._lock=0):prevStart=start,start<0&&child._ts&&(max-=start,(!parent&&!self._dp||parent&&parent.smoothChildTiming)&&(self._start+=start/self._ts,self._time-=start,self._tTime-=start),self.shiftChildren(-start,!1,-Infinity),prevStart=0),child._end>max&&child._ts&&(max=child._end),child=prev;_setDuration(self,self===_globalTimeline&&self._time>max?self._time:max,1,1),self._dirty=0}return self._tDur}static updateRoot(time){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(time,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;let child=_globalTimeline._first;if((!child||!child._ts)&&_config.autoSleep&&_ticker._listeners.length<2){for(;child&&!child._ts;)child=child._next;child||_ticker.sleep()}}}}_setDefaults(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});let _addComplexStringPropTween=function(target,prop,start,end,setter,stringFilter,funcParam){let pt=new PropTween(this._pt,target,prop,0,1,_renderComplexString,null,setter),index=0,matchIndex=0,result,startNums,color,endNum,chunk,startNum,hasRandom,a;for(pt.b=start,pt.e=end,start+="",(hasRandom=~(end+="").indexOf("random("))&&(end=_replaceRandom(end)),stringFilter&&(a=[start,end],stringFilter(a,target,prop),start=a[0],end=a[1]),startNums=start.match(_complexStringNumExp)||[];result=_complexStringNumExp.exec(end);)endNum=result[0],chunk=end.substring(index,result.index),color?color=(color+1)%5:"rgba("===chunk.substr(-5)&&(color=1),endNum!==startNums[matchIndex++]&&(startNum=parseFloat(startNums[matchIndex-1])||0,pt._pt={_next:pt._pt,p:chunk||1===matchIndex?chunk:",",s:startNum,c:"="===endNum.charAt(1)?parseFloat(endNum.substr(2))*("-"===endNum.charAt(0)?-1:1):parseFloat(endNum)-startNum,m:color&&color<4?Math.round:0},index=_complexStringNumExp.lastIndex);return pt.c=index<end.length?end.substring(index,end.length):"",pt.fp=funcParam,(_relExp.test(end)||hasRandom)&&(pt.e=0),this._pt=pt,pt},_addPropTween=function(target,prop,start,end,index,targets,modifier,stringFilter,funcParam){_isFunction(end)&&(end=end(index||0,target,targets));let currentValue=target[prop],parsedStart="get"!==start?start:_isFunction(currentValue)?funcParam?target[prop.indexOf("set")||!_isFunction(target["get"+prop.substr(3)])?prop:"get"+prop.substr(3)](funcParam):target[prop]():currentValue,setter=_isFunction(currentValue)?funcParam?_setterFuncWithParam:_setterFunc:_setterPlain,pt;if(_isString(end)&&(~end.indexOf("random(")&&(end=_replaceRandom(end)),"="===end.charAt(1)&&(pt=parseFloat(parsedStart)+parseFloat(end.substr(2))*("-"===end.charAt(0)?-1:1)+(getUnit(parsedStart)||0),(pt||0===pt)&&(end=pt))),parsedStart!==end)return isNaN(parsedStart*end)||""===end?(!currentValue&&!(prop in target)&&_missingPlugin(prop,end),_addComplexStringPropTween.call(this,target,prop,parsedStart,end,setter,stringFilter||_config.stringFilter,funcParam)):(pt=new PropTween(this._pt,target,prop,+parsedStart||0,end-(parsedStart||0),"boolean"==typeof currentValue?_renderBoolean:_renderPlain,0,setter),funcParam&&(pt.fp=funcParam),modifier&&pt.modifier(modifier,this,target),this._pt=pt)},_processVars=(vars,index,target,targets,tween)=>{if(_isFunction(vars)&&(vars=_parseFuncOrString(vars,tween,index,target,targets)),!_isObject(vars)||vars.style&&vars.nodeType||_isArray(vars)||_isTypedArray(vars))return _isString(vars)?_parseFuncOrString(vars,tween,index,target,targets):vars;let copy={},p;for(p in vars)copy[p]=_parseFuncOrString(vars[p],tween,index,target,targets);return copy},_checkPlugin=(property,vars,tween,index,target,targets)=>{let plugin,pt,ptLookup,i;if(_plugins[property]&&!1!==(plugin=new _plugins[property]).init(target,plugin.rawVars?vars[property]:_processVars(vars[property],index,target,targets,tween),tween,index,targets)&&(tween._pt=pt=new PropTween(tween._pt,target,property,0,1,plugin.render,plugin,0,plugin.priority),tween!==_quickTween))for(ptLookup=tween._ptLookup[tween._targets.indexOf(target)],i=plugin._props.length;i--;)ptLookup[plugin._props[i]]=pt;return plugin},_overwritingTween,_initTween=(tween,time)=>{let vars=tween.vars,{ease:ease,startAt:startAt,immediateRender:immediateRender,lazy:lazy,onUpdate:onUpdate,onUpdateParams:onUpdateParams,callbackScope:callbackScope,runBackwards:runBackwards,yoyoEase:yoyoEase,keyframes:keyframes,autoRevert:autoRevert}=vars,dur=tween._dur,prevStartAt=tween._startAt,targets=tween._targets,parent=tween.parent,fullTargets=parent&&"nested"===parent.data?parent.parent._targets:targets,autoOverwrite="auto"===tween._overwrite&&!_suppressOverwrites,tl=tween.timeline,cleanVars,i,p,pt,target,hasPriority,gsData,harness,plugin,ptLookup,index,harnessVars,overwritten;if(tl&&(!keyframes||!ease)&&(ease="none"),tween._ease=_parseEase(ease,_defaults.ease),tween._yEase=yoyoEase?_invertEase(_parseEase(!0===yoyoEase?ease:yoyoEase,_defaults.ease)):0,yoyoEase&&tween._yoyo&&!tween._repeat&&(yoyoEase=tween._yEase,tween._yEase=tween._ease,tween._ease=yoyoEase),tween._from=!tl&&!!vars.runBackwards,!tl||keyframes&&!vars.stagger){if(harness=targets[0]?_getCache(targets[0]).harness:0,harnessVars=harness&&vars[harness.prop],cleanVars=_copyExcluding(vars,_reservedProps),prevStartAt&&_removeFromParent(prevStartAt.render(-1,!0)),startAt)if(_removeFromParent(tween._startAt=Tween.set(targets,_setDefaults({data:"isStart",overwrite:!1,parent:parent,immediateRender:!0,lazy:_isNotFalse(lazy),startAt:null,delay:0,onUpdate:onUpdate,onUpdateParams:onUpdateParams,callbackScope:callbackScope,stagger:0},startAt))),time<0&&!immediateRender&&!autoRevert&&tween._startAt.render(-1,!0),immediateRender){if(time>0&&!autoRevert&&(tween._startAt=0),dur&&time<=0)return void(time&&(tween._zTime=time))}else!1===autoRevert&&(tween._startAt=0);else if(runBackwards&&dur)if(prevStartAt)!autoRevert&&(tween._startAt=0);else if(time&&(immediateRender=!1),p=_setDefaults({overwrite:!1,data:"isFromStart",lazy:immediateRender&&_isNotFalse(lazy),immediateRender:immediateRender,stagger:0,parent:parent},cleanVars),harnessVars&&(p[harness.prop]=harnessVars),_removeFromParent(tween._startAt=Tween.set(targets,p)),time<0&&tween._startAt.render(-1,!0),tween._zTime=time,immediateRender){if(!time)return}else _initTween(tween._startAt,_tinyNum);for(tween._pt=0,lazy=dur&&_isNotFalse(lazy)||lazy&&!dur,i=0;i<targets.length;i++){if(target=targets[i],gsData=target._gsap||_harness(targets)[i]._gsap,tween._ptLookup[i]=ptLookup={},_lazyLookup[gsData.id]&&_lazyTweens.length&&_lazyRender(),index=fullTargets===targets?i:fullTargets.indexOf(target),harness&&!1!==(plugin=new harness).init(target,harnessVars||cleanVars,tween,index,fullTargets)&&(tween._pt=pt=new PropTween(tween._pt,target,plugin.name,0,1,plugin.render,plugin,0,plugin.priority),plugin._props.forEach(name=>{ptLookup[name]=pt}),plugin.priority&&(hasPriority=1)),!harness||harnessVars)for(p in cleanVars)_plugins[p]&&(plugin=_checkPlugin(p,cleanVars,tween,index,target,fullTargets))?plugin.priority&&(hasPriority=1):ptLookup[p]=pt=_addPropTween.call(tween,target,p,"get",cleanVars[p],index,fullTargets,0,vars.stringFilter);tween._op&&tween._op[i]&&tween.kill(target,tween._op[i]),autoOverwrite&&tween._pt&&(_overwritingTween=tween,_globalTimeline.killTweensOf(target,ptLookup,tween.globalTime(time)),overwritten=!tween.parent,_overwritingTween=0),tween._pt&&lazy&&(_lazyLookup[gsData.id]=1)}hasPriority&&_sortPropTweensByPriority(tween),tween._onInit&&tween._onInit(tween)}tween._onUpdate=onUpdate,tween._initted=(!tween._op||tween._pt)&&!overwritten,keyframes&&time<=0&&tl.render(_bigNum,!0,!0)},_addAliasesToVars=(targets,vars)=>{let harness=targets[0]?_getCache(targets[0]).harness:0,propertyAliases=harness&&harness.aliases,copy,p,i,aliases;if(!propertyAliases)return vars;for(p in copy=_merge({},vars),propertyAliases)if(p in copy)for(aliases=propertyAliases[p].split(","),i=aliases.length;i--;)copy[aliases[i]]=copy[p];return copy},_parseKeyframe=(prop,obj,allProps,easeEach)=>{let ease=obj.ease||easeEach||"power1.inOut",p,a;if(_isArray(obj))a=allProps[prop]||(allProps[prop]=[]),obj.forEach((value,i)=>a.push({t:i/(obj.length-1)*100,v:value,e:ease}));else for(p in obj)a=allProps[p]||(allProps[p]=[]),"ease"===p||a.push({t:parseFloat(prop),v:obj[p],e:ease})},_parseFuncOrString=(value,tween,i,target,targets)=>_isFunction(value)?value.call(tween,i,target,targets):_isString(value)&&~value.indexOf("random(")?_replaceRandom(value):value,_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",_staggerPropsToSkip={};_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",name=>_staggerPropsToSkip[name]=1);export class Tween extends Animation{constructor(targets,vars,position,skipInherit){"number"==typeof vars&&(position.duration=vars,vars=position,position=null),super(skipInherit?vars:_inheritDefaults(vars));let{duration:duration,delay:delay,immediateRender:immediateRender,stagger:stagger,overwrite:overwrite,keyframes:keyframes,defaults:defaults,scrollTrigger:scrollTrigger,yoyoEase:yoyoEase}=this.vars,parent=vars.parent||_globalTimeline,parsedTargets=(_isArray(targets)||_isTypedArray(targets)?_isNumber(targets[0]):"length"in vars)?[targets]:toArray(targets),tl,i,copy,l,p,curTarget,staggerFunc,staggerVarsToMerge;if(this._targets=parsedTargets.length?_harness(parsedTargets):_warn("GSAP target "+targets+" not found. https://greensock.com",!_config.nullTargetWarn)||[],this._ptLookup=[],this._overwrite=overwrite,keyframes||stagger||_isFuncOrString(duration)||_isFuncOrString(delay)){if(vars=this.vars,tl=this.timeline=new Timeline({data:"nested",defaults:defaults||{}}),tl.kill(),tl.parent=tl._dp=this,tl._start=0,stagger||_isFuncOrString(duration)||_isFuncOrString(delay)){if(l=parsedTargets.length,staggerFunc=stagger&&distribute(stagger),_isObject(stagger))for(p in stagger)~_staggerTweenProps.indexOf(p)&&(staggerVarsToMerge||(staggerVarsToMerge={}),staggerVarsToMerge[p]=stagger[p]);for(i=0;i<l;i++)copy=_copyExcluding(vars,_staggerPropsToSkip),copy.stagger=0,yoyoEase&&(copy.yoyoEase=yoyoEase),staggerVarsToMerge&&_merge(copy,staggerVarsToMerge),curTarget=parsedTargets[i],copy.duration=+_parseFuncOrString(duration,this,i,curTarget,parsedTargets),copy.delay=(+_parseFuncOrString(delay,this,i,curTarget,parsedTargets)||0)-this._delay,!stagger&&1===l&&copy.delay&&(this._delay=delay=copy.delay,this._start+=delay,copy.delay=0),tl.to(curTarget,copy,staggerFunc?staggerFunc(i,curTarget,parsedTargets):0),tl._ease=_easeMap.none;tl.duration()?duration=delay=0:this.timeline=0}else if(keyframes){_inheritDefaults(_setDefaults(tl.vars.defaults,{ease:"none"})),tl._ease=_parseEase(keyframes.ease||vars.ease||"none");let time=0,a,kf,v;if(_isArray(keyframes))keyframes.forEach(frame=>tl.to(parsedTargets,frame,">"));else{for(p in copy={},keyframes)"ease"===p||"easeEach"===p||_parseKeyframe(p,keyframes[p],copy,keyframes.easeEach);for(p in copy)for(a=copy[p].sort((a,b)=>a.t-b.t),time=0,i=0;i<a.length;i++)kf=a[i],v={ease:kf.e,duration:(kf.t-(i?a[i-1].t:0))/100*duration},v[p]=kf.v,tl.to(parsedTargets,v,time),time+=v.duration;tl.duration()<duration&&tl.to({},{duration:duration-tl.duration()})}}duration||this.duration(duration=tl.duration())}else this.timeline=0;!0!==overwrite||_suppressOverwrites||(_overwritingTween=this,_globalTimeline.killTweensOf(parsedTargets),_overwritingTween=0),_addToTimeline(parent,this,position),vars.reversed&&this.reverse(),vars.paused&&this.paused(!0),(immediateRender||!duration&&!keyframes&&this._start===_roundPrecise(parent._time)&&_isNotFalse(immediateRender)&&_hasNoPausedAncestors(this)&&"nested"!==parent.data)&&(this._tTime=-_tinyNum,this.render(Math.max(0,-delay))),scrollTrigger&&_scrollTrigger(this,scrollTrigger)}render(totalTime,suppressEvents,force){let prevTime=this._time,tDur=this._tDur,dur=this._dur,tTime=totalTime>tDur-_tinyNum&&totalTime>=0?tDur:totalTime<_tinyNum?0:totalTime,time,pt,iteration,cycleDuration,prevIteration,isYoyo,ratio,timeline,yoyoEase;if(dur){if(tTime!==this._tTime||!totalTime||force||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=totalTime<0){if(time=tTime,timeline=this.timeline,this._repeat){if(cycleDuration=dur+this._rDelay,this._repeat<-1&&totalTime<0)return this.totalTime(100*cycleDuration+totalTime,suppressEvents,force);if(time=_roundPrecise(tTime%cycleDuration),tTime===tDur?(iteration=this._repeat,time=dur):(iteration=~~(tTime/cycleDuration),iteration&&iteration===tTime/cycleDuration&&(time=dur,iteration--),time>dur&&(time=dur)),isYoyo=this._yoyo&&1&iteration,isYoyo&&(yoyoEase=this._yEase,time=dur-time),prevIteration=_animationCycle(this._tTime,cycleDuration),time===prevTime&&!force&&this._initted)return this;iteration!==prevIteration&&(timeline&&this._yEase&&_propagateYoyoEase(timeline,isYoyo),!this.vars.repeatRefresh||isYoyo||this._lock||(this._lock=force=1,this.render(_roundPrecise(cycleDuration*iteration),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,totalTime<0?totalTime:time,force,suppressEvents))return this._tTime=0,this;if(dur!==this._dur)return this.render(totalTime,suppressEvents,force)}if(this._tTime=tTime,this._time=time,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=ratio=(yoyoEase||this._ease)(time/dur),this._from&&(this.ratio=ratio=1-ratio),time&&!prevTime&&!suppressEvents&&(_callback(this,"onStart"),this._tTime!==tTime))return this;for(pt=this._pt;pt;)pt.r(ratio,pt.d),pt=pt._next;timeline&&timeline.render(totalTime<0?totalTime:!time&&isYoyo?-_tinyNum:timeline._dur*timeline._ease(time/this._dur),suppressEvents,force)||this._startAt&&(this._zTime=totalTime),this._onUpdate&&!suppressEvents&&(totalTime<0&&this._startAt&&this._startAt.render(totalTime,!0,force),_callback(this,"onUpdate")),this._repeat&&iteration!==prevIteration&&this.vars.onRepeat&&!suppressEvents&&this.parent&&_callback(this,"onRepeat"),tTime!==this._tDur&&tTime||this._tTime!==tTime||(totalTime<0&&this._startAt&&!this._onUpdate&&this._startAt.render(totalTime,!0,!0),(totalTime||!dur)&&(tTime===this._tDur&&this._ts>0||!tTime&&this._ts<0)&&_removeFromParent(this,1),suppressEvents||totalTime<0&&!prevTime||!tTime&&!prevTime||(_callback(this,tTime===tDur?"onComplete":"onReverseComplete",!0),this._prom&&!(tTime<tDur&&this.timeScale()>0)&&this._prom()))}}else _renderZeroDurationTween(this,totalTime,suppressEvents,force);return this}targets(){return this._targets}invalidate(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),super.invalidate()}kill(targets,vars="all"){if(!(targets||vars&&"all"!==vars))return this._lazy=this._pt=0,this.parent?_interrupt(this):this;if(this.timeline){let tDur=this.timeline.totalDuration();return this.timeline.killTweensOf(targets,vars,_overwritingTween&&!0!==_overwritingTween.vars.overwrite)._first||_interrupt(this),this.parent&&tDur!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/tDur,0,1),this}let parsedTargets=this._targets,killingTargets=targets?toArray(targets):parsedTargets,propTweenLookup=this._ptLookup,firstPT=this._pt,overwrittenProps,curLookup,curOverwriteProps,props,p,pt,i;if((!vars||"all"===vars)&&_arraysMatch(parsedTargets,killingTargets))return"all"===vars&&(this._pt=0),_interrupt(this);for(overwrittenProps=this._op=this._op||[],"all"!==vars&&(_isString(vars)&&(p={},_forEachName(vars,name=>p[name]=1),vars=p),vars=_addAliasesToVars(parsedTargets,vars)),i=parsedTargets.length;i--;)if(~killingTargets.indexOf(parsedTargets[i]))for(p in curLookup=propTweenLookup[i],"all"===vars?(overwrittenProps[i]=vars,props=curLookup,curOverwriteProps={}):(curOverwriteProps=overwrittenProps[i]=overwrittenProps[i]||{},props=vars),props)pt=curLookup&&curLookup[p],pt&&("kill"in pt.d&&!0!==pt.d.kill(p)||_removeLinkedListItem(this,pt,"_pt"),delete curLookup[p]),"all"!==curOverwriteProps&&(curOverwriteProps[p]=1);return this._initted&&!this._pt&&firstPT&&_interrupt(this),this}static to(targets,vars){return new Tween(targets,vars,arguments[2])}static from(targets,vars){return _createTweenType(1,arguments)}static delayedCall(delay,callback,params,scope){return new Tween(callback,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:delay,onComplete:callback,onReverseComplete:callback,onCompleteParams:params,onReverseCompleteParams:params,callbackScope:scope})}static fromTo(targets,fromVars,toVars){return _createTweenType(2,arguments)}static set(targets,vars){return vars.duration=0,vars.repeatDelay||(vars.repeat=0),new Tween(targets,vars)}static killTweensOf(targets,props,onlyActive){return _globalTimeline.killTweensOf(targets,props,onlyActive)}}_setDefaults(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),_forEachName("staggerTo,staggerFrom,staggerFromTo",name=>{Tween[name]=function(){let tl=new Timeline,params=_slice.call(arguments,0);return params.splice("staggerFromTo"===name?5:4,0,0),tl[name].apply(tl,params)}});let _setterPlain=(target,property,value)=>target[property]=value,_setterFunc=(target,property,value)=>target[property](value),_setterFuncWithParam=(target,property,value,data)=>target[property](data.fp,value),_setterAttribute=(target,property,value)=>target.setAttribute(property,value),_getSetter=(target,property)=>_isFunction(target[property])?_setterFunc:_isUndefined(target[property])&&target.setAttribute?_setterAttribute:_setterPlain,_renderPlain=(ratio,data)=>data.set(data.t,data.p,Math.round(1e6*(data.s+data.c*ratio))/1e6,data),_renderBoolean=(ratio,data)=>data.set(data.t,data.p,!!(data.s+data.c*ratio),data),_renderComplexString=function(ratio,data){let pt=data._pt,s="";if(!ratio&&data.b)s=data.b;else if(1===ratio&&data.e)s=data.e;else{for(;pt;)s=pt.p+(pt.m?pt.m(pt.s+pt.c*ratio):Math.round(1e4*(pt.s+pt.c*ratio))/1e4)+s,pt=pt._next;s+=data.c}data.set(data.t,data.p,s,data)},_renderPropTweens=function(ratio,data){let pt=data._pt;for(;pt;)pt.r(ratio,pt.d),pt=pt._next},_addPluginModifier=function(modifier,tween,target,property){let pt=this._pt,next;for(;pt;)next=pt._next,pt.p===property&&pt.modifier(modifier,tween,target),pt=next},_killPropTweensOf=function(property){let pt=this._pt,hasNonDependentRemaining,next;for(;pt;)next=pt._next,pt.p===property&&!pt.op||pt.op===property?_removeLinkedListItem(this,pt,"_pt"):pt.dep||(hasNonDependentRemaining=1),pt=next;return!hasNonDependentRemaining},_setterWithModifier=(target,property,value,data)=>{data.mSet(target,property,data.m.call(data.tween,value,data.mt),data)},_sortPropTweensByPriority=parent=>{let pt=parent._pt,next,pt2,first,last;for(;pt;){for(next=pt._next,pt2=first;pt2&&pt2.pr>pt.pr;)pt2=pt2._next;(pt._prev=pt2?pt2._prev:last)?pt._prev._next=pt:first=pt,(pt._next=pt2)?pt2._prev=pt:last=pt,pt=next}parent._pt=first};export class PropTween{constructor(next,target,prop,start,change,renderer,data,setter,priority){this.t=target,this.s=start,this.c=change,this.p=prop,this.r=renderer||_renderPlain,this.d=data||this,this.set=setter||_setterPlain,this.pr=priority||0,this._next=next,next&&(next._prev=this)}modifier(func,tween,target){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=func,this.mt=target,this.tween=tween}}_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",name=>_reservedProps[name]=1),_globals.TweenMax=_globals.TweenLite=Tween,_globals.TimelineLite=_globals.TimelineMax=Timeline,_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_config.stringFilter=_colorStringFilter;const _gsap={registerPlugin(...args){args.forEach(config=>_createPlugin(config))},timeline:vars=>new Timeline(vars),getTweensOf:(targets,onlyActive)=>_globalTimeline.getTweensOf(targets,onlyActive),getProperty(target,property,unit,uncache){_isString(target)&&(target=toArray(target)[0]);let getter=_getCache(target||{}).get,format=unit?_passThrough:_numericIfPossible;return"native"===unit&&(unit=""),target?property?format((_plugins[property]&&_plugins[property].get||getter)(target,property,unit,uncache)):(property,unit,uncache)=>format((_plugins[property]&&_plugins[property].get||getter)(target,property,unit,uncache)):target},quickSetter(target,property,unit){if((target=toArray(target)).length>1){let setters=target.map(t=>gsap.quickSetter(t,property,unit)),l=setters.length;return value=>{let i=l;for(;i--;)setters[i](value)}}target=target[0]||{};let Plugin=_plugins[property],cache=_getCache(target),p=cache.harness&&(cache.harness.aliases||{})[property]||property,setter=Plugin?value=>{let p=new Plugin;_quickTween._pt=0,p.init(target,unit?value+unit:value,_quickTween,0,[target]),p.render(1,p),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:cache.set(target,p);return Plugin?setter:value=>setter(target,p,unit?value+unit:value,cache,1)},isTweening:targets=>_globalTimeline.getTweensOf(targets,!0).length>0,defaults:value=>(value&&value.ease&&(value.ease=_parseEase(value.ease,_defaults.ease)),_mergeDeep(_defaults,value||{})),config:value=>_mergeDeep(_config,value||{}),registerEffect({name:name,effect:effect,plugins:plugins,defaults:defaults,extendTimeline:extendTimeline}){(plugins||"").split(",").forEach(pluginName=>pluginName&&!_plugins[pluginName]&&!_globals[pluginName]&&_warn(name+" effect requires "+pluginName+" plugin.")),_effects[name]=(targets,vars,tl)=>effect(toArray(targets),_setDefaults(vars||{},defaults),tl),extendTimeline&&(Timeline.prototype[name]=function(targets,vars,position){return this.add(_effects[name](targets,_isObject(vars)?vars:(position=vars)&&{},this),position)})},registerEase(name,ease){_easeMap[name]=_parseEase(ease)},parseEase(ease,defaultEase){return arguments.length?_parseEase(ease,defaultEase):_easeMap},getById:id=>_globalTimeline.getById(id),exportRoot(vars={},includeDelayedCalls){let tl=new Timeline(vars),child,next;for(tl.smoothChildTiming=_isNotFalse(vars.smoothChildTiming),_globalTimeline.remove(tl),tl._dp=0,tl._time=tl._tTime=_globalTimeline._time,child=_globalTimeline._first;child;)next=child._next,!includeDelayedCalls&&!child._dur&&child instanceof Tween&&child.vars.onComplete===child._targets[0]||_addToTimeline(tl,child,child._start-child._delay),child=next;return _addToTimeline(_globalTimeline,tl,0),tl},utils:{wrap:wrap,wrapYoyo:wrapYoyo,distribute:distribute,random:random,snap:snap,normalize:normalize,getUnit:getUnit,clamp:clamp,splitColor:splitColor,toArray:toArray,selector:selector,mapRange:mapRange,pipe:pipe,unitize:unitize,interpolate:interpolate,shuffle:shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween:PropTween,globals:_addGlobal,Tween:Tween,Timeline:Timeline,Animation:Animation,getCache:_getCache,_removeLinkedListItem:_removeLinkedListItem,suppressOverwrites:value=>_suppressOverwrites=value}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",name=>_gsap[name]=Tween[name]),_ticker.add(Timeline.updateRoot),_quickTween=_gsap.to({},{duration:0});let _getPluginPropTween=(plugin,prop)=>{let pt=plugin._pt;for(;pt&&pt.p!==prop&&pt.op!==prop&&pt.fp!==prop;)pt=pt._next;return pt},_addModifiers=(tween,modifiers)=>{let targets=tween._targets,p,i,pt;for(p in modifiers)for(i=targets.length;i--;)pt=tween._ptLookup[i][p],pt&&(pt=pt.d)&&(pt._pt&&(pt=_getPluginPropTween(pt,p)),pt&&pt.modifier&&pt.modifier(modifiers[p],tween,targets[i],p))},_buildModifierPlugin=(name,modifier)=>({name:name,rawVars:1,init(target,vars,tween){tween._onInit=tween=>{let temp,p;if(_isString(vars)&&(temp={},_forEachName(vars,name=>temp[name]=1),vars=temp),modifier){for(p in temp={},vars)temp[p]=modifier(vars[p]);vars=temp}_addModifiers(tween,vars)}}});export const gsap=_gsap.registerPlugin({name:"attr",init(target,vars,tween,index,targets){let p,pt;for(p in vars)pt=this.add(target,"setAttribute",(target.getAttribute(p)||0)+"",vars[p],index,targets,0,0,p),pt&&(pt.op=p),this._props.push(p)}},{name:"endArray",init(target,value){let i=value.length;for(;i--;)this.add(target,i,target[i]||0,value[i])}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap.version="3.9.0",_coreReady=1,_windowExists()&&_wake();export const{Power0:Power0,Power1:Power1,Power2:Power2,Power3:Power3,Power4:Power4,Linear:Linear,Quad:Quad,Cubic:Cubic,Quart:Quart,Quint:Quint,Strong:Strong,Elastic:Elastic,Back:Back,SteppedEase:SteppedEase,Bounce:Bounce,Sine:Sine,Expo:Expo,Circ:Circ}=_easeMap;export{Tween as TweenMax,Tween as TweenLite,Timeline as TimelineMax,Timeline as TimelineLite,gsap as default,wrap,wrapYoyo,distribute,random,snap,normalize,getUnit,clamp,splitColor,toArray,selector,mapRange,pipe,unitize,interpolate,shuffle};export{_getProperty,_numExp,_numWithUnitExp,_isString,_isUndefined,_renderComplexString,_relExp,_setDefaults,_removeLinkedListItem,_forEachName,_sortPropTweensByPriority,_colorStringFilter,_replaceRandom,_checkPlugin,_plugins,_ticker,_config,_roundModifier,_round,_missingPlugin,_getSetter,_getCache,_colorExp};

export class CuppaCollapsible extends CuppaComponent{
    static IMAGE_ARROW = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAABHklEQVR4nO3YTUoDQRRF4SOOdA9thEaX4VRcgrhLQXAjKop/ZAE60kyEOEg9BLVJJ/0ksXI+aMikb9W9k0CDJEmSJEmSJEmSNsN2YtYBcAYcAnfAR2I2wA5wChwBr8BLcv4gJ8AEmJbnGmgS85uSGfmTcubauOHrcvE8kDNCU7K+518lZKd55+cFM0boKj8F3gbkprvg90tOgXuWG6Ep73blng++daI9YEzeCPPKj8uZa2UEPNJ96Wdgv0dOn/Jt8t3TDB3hX5cPy45QRfmw6AhVlQ99R6iyfGiZ/+9QbfkwAp7oLll1+bDoCFWVD31HqLJ8mDdC1eVD1wgbUT60zD6aRPlbVlR+axWHFrvAcfl9yewjhyRJkiRJkqS/9QkXmN0/+Qn7GgAAAABJRU5ErkJggg==";
    static OPEN = "open";
    static CLOSE = "close";
    header;
    content;
    callback;
    status = this.observable("status");
    arrowURL;
    maxHeight = 999999;

    constructor({header = "", content = "", callback = null, status = CuppaCollapsible.CLOSE, arrowURL = CuppaCollapsible.IMAGE_ARROW} = {}){
        super();
        this.header = header;
        this.content = content;
        this.callback = callback;
        this.status = status;
        this.arrowURL = arrowURL;
    }

    static get observedAttributes() { return ['header', 'content', 'status', 'arrow-url'] }
    attributeChangedCallback(attr, oldVal, newVal) {
        if(oldVal === newVal) return;
        if(attr == 'arrow-url'){
            this.arrowURL = newVal;
        }else{
            this[attr] = newVal;
        }
    }

    change(status){
        if(!status){ status = (this.status == CuppaCollapsible.CLOSE) ? CuppaCollapsible.OPEN : CuppaCollapsible.CLOSE; }
        this.status = status;
        let data = {status:this.status, ref:this}
        this.dispatchEvent(new CustomEvent("change",{detail:data}));
        if(this.callback) this.callback(data);
    }

    mounted(){
        document.defaultView.onresize = this.onResize;
        let obj = {x:0}
        gsap.to(obj, { duration: 2, x:100, onUpdate:(e)=>console.log(obj) });
    }

    onResize(){
        if(this.refs && this.refs.content){ this.maxHeight = this.refs.content.scrollHeight; }
    }

    render(){
        this.setAttribute("status", this.status);
        return html`
            <div @click="${()=>this.change()}" class="cuppa-collapsible_header" >
                <div class="cuppa-collapsible_header-content"> ${ html`${this.header}` }</div>
                ${ !this.arrowURL ? '' : html`
                    <img ref="arrow" class="cuppa-collapsible_arrow" src="${this.arrowURL}" />
                ` }
            </div>
            <div ref="content" class="cuppa-collapsible_content">
               <div class="cuppa-collapsible_content-data">
                   ${ html`${this.content}` }
               </div>
            </div>
            <style>
                cuppa-collapsible{ display: block; border-radius: 5px; overflow: hidden; width:100%; }
                cuppa-collapsible .cuppa-collapsible_header{ display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #EEE; }
                cuppa-collapsible .cuppa-collapsible_header-content{ display: flex; flex:1; justify-content: flex-start; align-items: center; padding:10px; }
                cuppa-collapsible .cuppa-collapsible_arrow{ padding:0 10px; }
                cuppa-collapsible .cuppa-collapsible_arrow{ width: auto; height: 20px; transition: 0.3s transform; }
                cuppa-collapsible .cuppa-collapsible_content{  
                    height:auto; max-height:${this.maxHeight}px;
                    transition: 0.3s max-height; overflow: hidden; 
                    transition-timing-function: Cubic-bezier(0.645, 0.045, 0.355, 1.000) !important;
                }
                cuppa-collapsible .cuppa-collapsible_content-data{ padding:10px; }
                cuppa-collapsible[status=close] .cuppa-collapsible_content{ max-height:0; }
                cuppa-collapsible[status=open] .cuppa-collapsible_arrow{ transform: rotate(180deg); }
            </style>
        `
    }
};
customElements.define('cuppa-collapsible', CuppaCollapsible);


