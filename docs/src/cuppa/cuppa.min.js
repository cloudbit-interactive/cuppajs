var log=function(values){try{let args=arguments;for(let i=0;i<args.length;i++)console.log(args[i])}catch(err){}},cuppa=void 0!==cuppa?cuppa:{debug:!1};function EventDispatcher(){}cuppa.ready=function(callback){"complete"===document.readyState?callback():document.addEventListener("DOMContentLoaded",callback)},cuppa.loaded=function(callback){"complete"===document.readyState&&callback(),document.onreadystatechange=function(){"complete"===document.readyState&&callback()}},cuppa.element=function(ref,opts){if(!ref)return;if((opts=opts||{}).returnType=opts.returnType||"all",opts.query=opts.query||!0,opts.target&&(opts.parent=opts.target),"body"===ref)return"first"===opts.returnType?document.body:"last"===opts.returnType?document.body:[document.body];if(Array.isArray(ref))return"first"===opts.returnType?ref.shift():"last"===opts.returnType?ref.pop():ref;if("[object NodeList]"===ref.toString()||"[object HTMLCollection]"===ref.toString())return ref=Array.from(ref),"first"===opts.returnType?ref.shift():"last"===opts.returnType?ref.pop():ref;if("object"==typeof ref)return"first"===opts.returnType?ref:"last"===opts.returnType?ref:[ref];opts.parent&&"body"!==opts.parent||(opts.parent=[document.body]),"string"==typeof opts.parent&&(opts.parent=cuppa.element(opts.parent)),Array.isArray(opts.parent)||(opts.parent=[opts.parent]);let nodes=[];if(!opts.parent)return nodes;for(let i=0;i<opts.parent.length;i++){let t=opts.parent[i],n=null;if(cuppa.search("#",ref)&&!opts.query){let e=cuppa.replace(ref,"#","");try{n=t.getElementById(e)}catch(err){}n&&nodes.push(n)}else if(cuppa.search(".",ref)&&!opts.query){ref=cuppa.replace(ref,"\\.","");try{n=Array.from(t.getElementsByClassName(ref))}catch(err){}n&&n.length&&(nodes=nodes.concat(n))}else{try{n=Array.from(t.querySelectorAll(ref))}catch(err){}n&&n.length&&(nodes=nodes.concat(n))}}return opts.not&&(nodes=nodes.filter((function(item){return item!==opts.not?item:null}))),(opts.reverse||opts.invert)&&nodes.reverse(),"first"===opts.returnType?nodes.shift():"last"===opts.returnType?nodes.pop():nodes},cuppa.elements=function(ref,opts){return cuppa.element(ref,opts)},cuppa.elementIndex=function(element){let childrens;return cuppa.childrens(cuppa.parent(element)).indexOf(element)},cuppa.newElement=function(str){let parent,substr=str.substr(0,3);return parent="<tr"===substr?document.createElement("tbody"):"<td"===substr||"<th"===substr?document.createElement("tr"):document.createElement("div"),parent.innerHTML=str,parent.firstChild},cuppa.childrens=function(element){if(!element)return null;let tmp=element.childNodes,childrens=[];for(let i=0;i<tmp.length;i++)1===tmp[i].nodeType&&childrens.push(tmp[i]);return childrens},cuppa.remove=function(ref){let elements=cuppa.element(ref);if(elements)for(let i=0;i<elements.length;i++)try{elements[i].parentNode.removeChild(elements[i])}catch(err){}},cuppa.clean=function(ref){ref.innerHTML=""},cuppa.removeClass=function(elements,classes){elements=cuppa.element(elements),classes=classes.split(" ");for(let i=0;i<elements.length;i++)for(let j=0;j<classes.length;j++)elements[i].classList.remove(classes[j])},cuppa.addClass=function(elements,classes){if(elements&&classes){elements=cuppa.element(elements),Array.isArray(classes)||(classes=classes.split(" "));for(let i=0;i<elements.length;i++)for(let j=0;j<classes.length;j++)cuppa.trim(classes[j])&&elements[i].classList.add(classes[j])}},cuppa.toggleClass=function(elements,classes){elements=cuppa.element(elements),classes=classes.split(" ");for(let i=0;i<elements.length;i++)for(let j=0;j<classes.length;j++)elements[i].classList.toggle(classes[j])},cuppa.hasClass=function(element,className){return(element=cuppa.element(element)[0]).classList.contains(className)},cuppa.replaceClass=function(elements,search,replace){elements=cuppa.element(elements);for(let i=0;i<elements.length;i++)elements[i].classList.remove(search),elements[i].classList.add(replace)},cuppa.attribute=function(elements,name,value,remove){if(!elements||!name)return;let i,element;if(elements=cuppa.element(elements),remove)for(i=0;i<elements.length;i++)element=elements[i],element.removeAttribute(name);else{if(null==value){try{value=elements[0].getAttribute(name)}catch(err){}return value}for(i=0;i<elements.length;i++)element=elements[i],element.setAttribute(name,value)}},cuppa.attr=function(elements,name,value,remove){return cuppa.attribute(elements,name,value,remove)},cuppa.clone=function(ref){let element,clone;return cuppa.element(ref,{returnType:"first"}).cloneNode(!0)},cuppa.parent=function(ref){if(!ref)return;let element=cuppa.element(ref)[0];return element?element.parentElement:void 0},cuppa.parents=function(ref,opts){opts=cuppa.mergeObjects([{reverse:!1,type:""},opts]);let element=cuppa.element(ref)[0];if(!element)return;let parents=[];if("body"===cuppa.elementType(element))return parents;for(;element;)"[object HTMLDocument]"!==element.toString()&&"[object HTMLHtmlElement]"!==element.toString()&&(opts.type?cuppa.elementType(element)===opts.type&&parents.push(element):parents.push(element)),element=element.parentNode;return parents.shift(),opts.reverse&&(parents=parents.reverse()),parents},cuppa.parentDocument=function(){let ref=window.parent.document;return ref||(ref=document),ref},cuppa.addChild=function(element,opts){if(!element)return;let target;(opts=opts||{}).prepend?(target=cuppa.element(opts.prepend,{query:!0,returnType:"first"}),cuppa.prepend(element,target)):opts.start?(target=cuppa.element(opts.start,{query:!0,returnType:"first"}),cuppa.prepend(element,target)):opts.init?(target=cuppa.element(opts.init,{query:!0,returnType:"first"}),cuppa.prepend(element,target)):opts.first?(target=cuppa.element(opts.first,{query:!0,returnType:"first"}),cuppa.prepend(element,target)):opts.before?(target=cuppa.element(opts.before,{query:!0,returnType:"first"}),cuppa.before(element,target)):opts.after?(target=cuppa.element(opts.after,{query:!0,returnType:"first"}),cuppa.after(element,target)):opts.append?(target=cuppa.element(opts.append,{query:!0,returnType:"first"}),cuppa.append(element,target)):opts.add?(target=cuppa.element(opts.add,{query:!0,returnType:"first"}),cuppa.append(element,target)):opts.target?(target=cuppa.element(opts.target,{query:!0,returnType:"first"}),cuppa.append(element,target)):opts.end?(target=cuppa.element(opts.end,{query:!0,returnType:"first"}),cuppa.append(element,target)):opts.replace?(target=cuppa.element(opts.replace,{query:!0,returnType:"first"}),cuppa.replaceElement(element,target)):opts.update&&(target=cuppa.element(opts.update,{query:!0,returnType:"first"}),cuppa.update(element,target))},cuppa.addElement=function(element,opts){cuppa.addChild(element,opts)},cuppa.addChildren=function(element,opts){cuppa.addChild(element,opts)},cuppa.append=function(element,addToElement){addToElement=cuppa.element(addToElement)[0],"object"!=typeof element?addToElement.innerHTML=element:addToElement.appendChild(element),cuppa.executeJS(element)},cuppa.add=function(element,addToElement){cuppa.append(element,addToElement)},cuppa.prepend=function(element,addToElement){(addToElement=cuppa.element(addToElement,{returnType:"first"})).prepend?addToElement.prepend(element):addToElement.insertBefore(element,addToElement.firstChild),cuppa.executeJS(element)},cuppa.before=function(element,addToElement){addToElement.parentNode.insertBefore(element,addToElement),cuppa.executeJS(element)},cuppa.after=function(element,addToElement){addToElement.parentNode.insertBefore(element,addToElement.nextSibling),cuppa.executeJS(element)},cuppa.previou=function(element){return element.previousElementSibling},cuppa.next=function(element){return element.nextElementSibling},cuppa.replaceElement=function(element,elementToReplace){elementToReplace.parentNode.replaceChild(element,elementToReplace),cuppa.executeJS(element)},cuppa.update=function(element,updateElement){updateElement=cuppa.element(updateElement);for(let i=0;i<updateElement.length;i++){let el=updateElement[i];el.innerHTML="",cuppa.append(element,el)}},cuppa.executeJS=function(element){let scripts;try{scripts=Array.from(element.querySelectorAll("script"))}catch(err){}if(scripts)for(let i=0;i<scripts.length;i++)try{eval(scripts[i].innerHTML)}catch(err){}},cuppa.show=function(elements,opts){if(elements=cuppa.element(elements))for(let i=0;i<elements.length;i++){let element=elements[i];opts=cuppa.mergeObjects([{duration:.3,display:"block",delay:0,ease:null,height:!1,callback:null,gsap:null},opts]);let{gsap:gsap}=opts;if(gsap.killTweensOf(element),!0===opts.height){let dim=cuppa.dim(element),tl=new window.TimelineMax({onComplete:opts.callback});tl.to(element,opts.duration,{height:dim.scrollHeight,ease:opts.ease}),tl.set(element,{height:"auto"})}else gsap.to(element,{duration:opts.duration,alpha:1,delay:opts.delay,display:opts.display,ease:opts.ease,onComplete:opts.callback})}},cuppa.hide=function(element,opts){if(!(element=cuppa.element(element)))return;opts=cuppa.mergeObjects([{duration:.3,delay:0,ease:null,height:!1,callback:null,gsap:null},opts]);let{gsap:gsap}=opts;gsap.killTweensOf(element),!0===opts.height?gsap.to(element,{duration:opts.duration,height:0,delay:opts.delay,ease:opts.ease,onComplete:opts.callback}):gsap.to(element,{duration:opts.duration,alpha:0,display:"none",delay:opts.delay,ease:opts.ease,onComplete:opts.callback})},cuppa.nodeType=function(element){return element.nodeName.toLowerCase()},cuppa.elementType=function(element){return cuppa.nodeType(element)},cuppa.getIframe=function(){return window.frameElement},cuppa.noscroll=function(value,all){void 0===value&&(value=!0),void 0===all&&(all=!1),value?all?document.body.classList.add("noscroll-all"):document.body.classList.add("noscroll"):(document.body.classList.remove("noscroll"),document.body.classList.remove("noscroll-all"))},cuppa.text=function(elements,value){if(elements){if(elements=cuppa.element(elements),void 0===value&&elements[0])return elements[0].innerHTML;for(let i=0;i<elements.length;i++)elements[i].innerHTML=value}},cuppa.requireJSDirectory={},cuppa.loadedJS=0,cuppa.requiereJS=function(paths,callback,progress,type,opts){"string"==typeof paths&&(paths=[paths]),type||(type="text/javascript"),opts=cuppa.mergeObjects([{target:document.head},opts]),cuppa.loadedJS=0;let head=document.getElementsByTagName("head")[0];for(let i=0;i<paths.length;i++){let path=paths[i];if(cuppa.requireJSDirectory[path])onComplete();else{cuppa.requireJSDirectory[path]=!0;let element=document.createElement("script");element.src=path,element.type=type,element.onload=onComplete,opts.target.appendChild(element)}}function onComplete(e){cuppa.loadedJS++,cuppa.loadedJS>=paths.length&&callback?callback(cuppa.loadedJS,paths.length):progress&&progress(cuppa.loadedJS,paths.length)}},cuppa.includeJS=function(paths,callback,progress){cuppa.requiereJS(paths,callback,progress)},cuppa.loadJS=function(paths,callback,progress){cuppa.requiereJS(paths,callback,progress)},cuppa.requireCSSDirectory={},cuppa.loadedCSS=0,cuppa.requiereCSS=function(paths,callback,progress,opts){"string"==typeof paths&&(paths=[paths]),opts=cuppa.mergeObjects([{target:document.head},opts]),cuppa.loadedCSS=0;for(let i=0;i<paths.length;i++){let path=paths[i];if(cuppa.requireCSSDirectory[path])onComplete();else{cuppa.requireCSSDirectory[path]=!0;let element=document.createElement("link");element.rel="stylesheet",element.type="text/css",element.href=path,element.onload=onComplete,opts.target.appendChild(element)}}function onComplete(e){cuppa.loadedCSS++,cuppa.loadedCSS>=paths.length&&callback?callback(cuppa.loadedCSS,paths.length):progress&&progress(cuppa.loadedCSS,paths.length)}},cuppa.includeCSS=function(paths,callback,progress){cuppa.requiereCSS(paths,callback,progress)},cuppa.loadCSS=function(paths,callback,progress){cuppa.requiereCSS(paths,callback,progress)},cuppa.requireComponentDirectory={},cuppa.loadedComponents=0,cuppa.requireComponent=function(paths,opts){"string"==typeof paths&&(paths=[paths]),opts=cuppa.mergeObjects([{callback:null,progress:null,plainComponent:!0,reload:!1,target:document},opts]),cuppa.loadedComponents=0;for(let i=0;i<paths.length;i++){let path=paths[i];cuppa.requireComponentDirectory[path]&&!opts.reload?onComplete():(cuppa.requireComponentDirectory[path]=!0,cuppa.processComponent(path,{callback:onComplete,plainComponent:opts.plainComponent,target:opts.target}))}function onComplete(e){cuppa.loadedComponents++,opts.progress&&opts.progress(cuppa.loadedComponents,paths.length),cuppa.loadedComponents>=paths.length&&opts.callback&&opts.callback(cuppa.loadedComponents,paths.length)}},cuppa.includeComponent=function(paths,opts){cuppa.requireComponent(paths,opts)},cuppa.loadComponent=function(paths,opts){cuppa.requireComponent(paths,opts)},cuppa.component=function(paths,opts){cuppa.requireComponent(paths,opts)},cuppa.components=function(paths,opts){cuppa.requireComponent(paths,opts)},cuppa.processComponent=function(url,opts){opts=cuppa.mergeObjects([{callback:null,plainComponent:!0,target:document},opts]),cuppa.ajax(url,{method:"GET"},(function(result){let oldElement=opts.target.getElementById("component_"+url);if(oldElement&&cuppa.remove(oldElement),!result)return void(opts.callback&&opts.callback(url));if(opts.plainComponent){cuppa.componentListContainer||(cuppa.componentListContainer=opts.target.createElement("div"),cuppa.componentListContainer.id="component_list_container",cuppa.componentListContainer.style.display="none",cuppa.append(cuppa.componentListContainer,opts.target.body));let div=opts.target.createElement("div");return div.id="component_"+url,div.innerHTML=result,div.style.display="none",cuppa.append(div,cuppa.componentListContainer),void(opts.callback&&opts.callback(url))}let template=result.split("<template>")[1];template=template.split("</template>")[0],template=cuppa.replace(template,"\n",""),template=cuppa.trim(template);let script=result.split("<script>")[1];script=script.split("<\/script>")[0],script=cuppa.trim(script),script="window.Class = "+script,script=script.replace("super();","super(); this.processComponent();");try{script=eval(script)}catch(err){}if("string"==typeof script)return;script.prototype.template=cuppa.newElement(template),script.prototype.processComponent=function(){let temp=this.template.cloneNode(!0);this.appendChild(temp),cuppa.nodes(this,this)};let fileDesc=cuppa.fileDescription(url);customElements.define(fileDesc.name,script),opts.callback&&opts.callback(url)}))},cuppa.nodes=function(html,addTo,tagAttr){tagAttr||(tagAttr="id");let nodes={},elements=Array.from(html.querySelectorAll(`[${tagAttr}]`));for(let i=0;i<elements.length;i++)addTo?addTo[elements[i].getAttribute(tagAttr)]=elements[i]:nodes[elements[i].getAttribute(tagAttr)]=elements[i];return addTo?addTo.rootHtml=html:nodes.rootHtml=html,nodes},cuppa.bindAll=function(element,isFunction){let propertyNames=Object.getOwnPropertyNames(Object.getPrototypeOf(element));isFunction&&(propertyNames=Object.keys(element));for(let i=0;i<propertyNames.length;i++)"function"==typeof element[propertyNames[i]]&&(element[propertyNames[i]]=element[propertyNames[i]].bind(element))},cuppa.componentAdjust=function(element,templateID,tagAttr){tagAttr||(tagAttr="id");const currentDocument=document.currentScript?document.currentScript.ownerDocument:document;let templateRef=currentDocument.getElementById(templateID),template=templateRef.content.cloneNode(!0);cuppa.attr(element,"style",cuppa.attr(templateRef,"style")),cuppa.attr(element,"class",cuppa.attr(templateRef,"class")),element.appendChild(template),cuppa.nodes(element,element,tagAttr),cuppa.bindAll(element)},cuppa.componentAdjustString=function(element,opts){if((opts={shadow:!1,tagAttr:"ref",templateString:null,...opts}).templateString||(opts.templateString=element.render()),opts.shadow){!0===opts.shadow&&(opts.shadow="open");let template=cuppa.newElement(opts.templateString);element.attachShadow({mode:opts.shadow}),element.shadowRoot.appendChild(template),cuppa.nodes(template,element,opts.tagAttr)}else element.insertAdjacentHTML("beforeend",opts.templateString),cuppa.nodes(element,element,opts.tagAttr);cuppa.bindAll(element)},Object.assign&&Object.assign(EventDispatcher.prototype,{addEventListener:function(type,listener){void 0===this._listeners&&(this._listeners={});let listeners=this._listeners;void 0===listeners[type]&&(listeners[type]=[]),-1===listeners[type].indexOf(listener)&&listeners[type].push(listener)},hasEventListener:function(type,listener){if(void 0===this._listeners)return!1;let listeners=this._listeners;return void 0!==listeners[type]&&-1!==listeners[type].indexOf(listener)},removeEventListener:function(type,listener){if(void 0===this._listeners)return;let listeners,listenerArray=this._listeners[type];if(void 0!==listenerArray){let index=listenerArray.indexOf(listener);-1!==index&&listenerArray.splice(index,1)}},dispatchEvent:function(event){if(void 0===this._listeners)return;let listeners,listenerArray=this._listeners[event.type];if(void 0!==listenerArray){event.target=this;let array=listenerArray.slice(0);for(let i=0,l=array.length;i<l;i++)array[i].call(this,event)}}}),function(){if("undefined"!=typeof window){if("function"==typeof window.CustomEvent)return!1;CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};let evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}}();var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(input){let output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;for(input=Base64._utf8_encode(input);i<input.length;)chr1=input.charCodeAt(i++),chr2=input.charCodeAt(i++),chr3=input.charCodeAt(i++),enc1=chr1>>2,enc2=(3&chr1)<<4|chr2>>4,enc3=(15&chr2)<<2|chr3>>6,enc4=63&chr3,isNaN(chr2)?enc3=enc4=64:isNaN(chr3)&&(enc4=64),output=output+this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4);return output},decode:function(input){let output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;for(input=input.replace(/[^A-Za-z0-9+/=]/g,"");i<input.length;)enc1=this._keyStr.indexOf(input.charAt(i++)),enc2=this._keyStr.indexOf(input.charAt(i++)),enc3=this._keyStr.indexOf(input.charAt(i++)),enc4=this._keyStr.indexOf(input.charAt(i++)),chr1=enc1<<2|enc2>>4,chr2=(15&enc2)<<4|enc3>>2,chr3=(3&enc3)<<6|enc4,output+=String.fromCharCode(chr1),64!==enc3&&(output+=String.fromCharCode(chr2)),64!==enc4&&(output+=String.fromCharCode(chr3));return output=Base64._utf8_decode(output),output},_utf8_encode:function(string){string=string.replace(/\r\n/g,"\n");let utftext="";for(let n=0;n<string.length;n++){let c=string.charCodeAt(n);c<128?utftext+=String.fromCharCode(c):c>127&&c<2048?(utftext+=String.fromCharCode(c>>6|192),utftext+=String.fromCharCode(63&c|128)):(utftext+=String.fromCharCode(c>>12|224),utftext+=String.fromCharCode(c>>6&63|128),utftext+=String.fromCharCode(63&c|128))}return utftext},_utf8_decode:function(utftext){let string="",i=0,c,c2,c3=0;for(;i<utftext.length;)c=utftext.charCodeAt(i),c<128?(string+=String.fromCharCode(c),i++):c>191&&c<224?(c2=utftext.charCodeAt(i+1),string+=String.fromCharCode((31&c)<<6|63&c2),i+=2):(c2=utftext.charCodeAt(i+1),c3=utftext.charCodeAt(i+2),string+=String.fromCharCode((15&c)<<12|(63&c2)<<6|63&c3),i+=3);return string}};cuppa.replace=function(string,search,replace,opts){if(!string)return"";if((opts=opts||{}).range){let c_temp1=string.split(opts.range[0]);if(c_temp1.length<=1)return string;for(let i=0;i<c_temp1.length;i++){let c_temp2=c_temp1[i].split(opts.range[1]);if(c_temp2.length>1&&(opts.first?opts.split?c_temp2[0]=cuppa.replaceSplit(c_temp2[0],search,replace):c_temp2[0]=c_temp2[0].replace(search,replace):opts.split?c_temp2[0]=cuppa.replaceSplit(c_temp2[0],search,replace):c_temp2[0]=c_temp2[0].replace(new RegExp(search,"g"),replace),c_temp1[i]=c_temp2.join(opts.range[1]),opts.first_range))break}string=c_temp1.join(opts.range[0])}else string=opts.first?opts.split?cuppa.replaceSplit(string,search,replace):string.replace(search,replace):opts.split?cuppa.replaceSplit(string,search,replace):string.replace(new RegExp(search,"g"),replace);return string},cuppa.replaceSplit=function(string,search,replace){return string.split(search).join(replace)},cuppa.unique=function(addToInit,dateFormat){let value="";return dateFormat?(value=(new Date).toISOString()+"-"+Math.round(9999*Math.random()),value=cuppa.replace(value,":","-"),value=cuppa.replace(value,"\\.","-")):value=(new Date).valueOf()+Math.round(9999*Math.random()),addToInit&&(value=addToInit+value),value},cuppa.trim=function(string){return string?string.replace(/^\s+|\s+$/g,""):""},cuppa.email=function(value){let emailExpression;return/^[a-z 0-9][\w.-]+@\w[\w.-]+\.[\w.-]*[a-z][a-z]$/i.test(cuppa.trim(value))},cuppa.url=function(str){let regexp;return/[-a-zA-Z0-9@:%_+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_+.~#?&//=]*)?/gi.test(str)},cuppa.deleteDoubleSpaces=function(value){let valueExpression=/\s+/gi;return value.replace(valueExpression," ")},cuppa.deleteDoubleCharacters=function(str,character){let array=str.split(character);return array=array.filter(item=>item),array.join(character)},cuppa.removeNotPrintableCharacters=function(string){return string.replace(/[^\x20-\x7E]+/g,"")},cuppa.removeBreakLines=function(value){return value?value.replace(/(\r\n|\n|\r)/gm,""):value},cuppa.searchWord=function(word,string){if(!string)return!1;let result;return word=word.toLowerCase(),-1!==(string=string.toLowerCase()).indexOf(word)},cuppa.search=function(word,string){return cuppa.searchWord(word,string)},cuppa.stringLike=function(string,like){return!!string&&string.indexOf(like)>=0},cuppa.likeString=function(string,like){return cuppa.stringLike(string,like)},cuppa.capitalize=function(string,firstWord){return firstWord?cuppa.capitaliseFirstLetter(string):cuppa.capitaliseAllWords(string)},cuppa.capitaliseFirstLetter=function(string){return string||(string=""),(string=string.toLocaleLowerCase()).charAt(0).toUpperCase()+string.slice(1)},cuppa.capitaliseAllWords=function(str){str||(str="");let pieces=(str=str.toLocaleLowerCase()).split(" ");for(let i=0;i<pieces.length;i++){let j=pieces[i].charAt(0).toUpperCase();pieces[i]=j+pieces[i].substr(1)}return pieces.join(" ")},cuppa.camelize=function(str){return str=String(str)||"",str=cuppa.replace(str,"-"," "),(str=(str=(str=cuppa.replace(str,"_"," ")).toLowerCase()).replace(/[^\w\s]/gi,"")).replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(function(match,index){return 0==+match?"":0===index?match.toLowerCase():match.toUpperCase()}))},cuppa.numberToMoney=function(value,decimals,decimalSeparator){if(void 0===decimals&&(decimals=0),value=parseFloat(value).toFixed(decimals),value=String(value),0===Number(value)||isNaN(value)||""===value)return"0";void 0===decimalSeparator&&(decimalSeparator=".");let moneyFormat="",result,arrayData,floatData,i;if("."===decimalSeparator)for(arrayData=value.split("."),floatData="",arrayData.length>1&&(floatData="."+arrayData[arrayData.length-1]),arrayData=arrayData[0].split(""),arrayData.reverse(),i=arrayData.length-1;i>=0;i--)moneyFormat+=arrayData[i],i>0&&(result=i/3,result-=Math.floor(i/3),0===Number(result)&&"-"!==arrayData[i]&&(moneyFormat+=","));else if(","===decimalSeparator)for(arrayData=value.split(","),floatData="",arrayData.length>1&&(floatData=","+arrayData[arrayData.length-1]),arrayData=arrayData[0].split(""),arrayData.reverse(),i=arrayData.length-1;i>=0;i--)moneyFormat+=arrayData[i],i>0&&(result=i/3,result-=Math.floor(i/3),0===Number(result)&&"-"!==arrayData[i]&&(moneyFormat+="."));return moneyFormat+=floatData,0==moneyFormat?"":moneyFormat},cuppa.moneyToNumber=function(value,decimalSeparator){return value=String(value),void 0===decimalSeparator&&(decimalSeparator="."),"."===decimalSeparator?value=cuppa.replace(value,",",""):(value=cuppa.replace(value,".",""),value=cuppa.replace(value,",",".")),0===(value=parseFloat(value))||isNaN(value)||""===value?"":value},cuppa.urlToObject=function(string,urlDecode){void 0===urlDecode&&(urlDecode=!0),string||(string=cuppa.getPath()),-1!==string.indexOf("?")&&(string=string.substr(string.indexOf("?")+1)),-1!==string.indexOf("#")&&(string=string.substr(string.indexOf("#")+1));let data=string.split("&"),object={};if(data.length<1)return null;for(let i=0;i<data.length;i++){let item=data[i].split("=");try{urlDecode&&(item[1]=cuppa.urlEncode(item[1])),item[0]&&(object[item[0]]=item[1])}catch(err){}}return Object.keys(object).length?object:null},cuppa.urlFriendly=function(str,max,spaceChar){if(null==spaceChar&&(spaceChar="-"),!str)return;max||(max=500);let a_chars=[];a_chars.push(["a",/[áàâãªÁÀÂÃ]/g]),a_chars.push(["e",/[éèêÉÈÊ]/g]),a_chars.push(["i",/[íìîÍÌÎ]/g]),a_chars.push(["o",/[òóôõÓÒÔÕ]/g]),a_chars.push(["u",/[úùûÚÙÛ]/g]),a_chars.push(["c",/[çÇ]/g]),a_chars.push(["n",/[Ññ]/g]),a_chars.push(["-",/[.]/g]),a_chars.push(["",/['"\\()[\]/*++¿?#:;@$º&*^·’,.!¡%=+|]/g]);for(let i=0;i<a_chars.length;i++)str=str.replace(a_chars[i][1],a_chars[i][0]);return str=(str=(str=str.replace(/\s+/g,spaceChar).replace(/_+/g,spaceChar).toLowerCase().replace(/-{2,}/g,spaceChar).replace(/(^\s*)|(\s*$)/g,"").substr(0,max)).replace(/[^a-zA-Z0-9_ -]/g,"")).replace(/[\-]/g,spaceChar)},cuppa.cleanString=function(str,max,spaces){return cuppa.urlFriendly(str,max,spaces)},cuppa.removeSpecialCharacters=function(str,max,spaces){return cuppa.urlFriendly(str,max,spaces)},cuppa.pathVars=function(str,number_return){void 0===number_return&&(number_return=!1),str=str.split("/");let array=[];for(let i=0;i<str.length;i++)if(str[i]){if(str[i]=cuppa.trim(str[i]),number_return){let number=parseInt(str[i]);number&&(str[i]=number)}array.push(str[i])}return array},cuppa.utf8Encode=function(string){string=string.replace(/\r\n/g,"\n");let utftext="";for(let n=0;n<string.length;n++){let c=string.charCodeAt(n);c<128?utftext+=String.fromCharCode(c):c>127&&c<2048?(utftext+=String.fromCharCode(c>>6|192),utftext+=String.fromCharCode(63&c|128)):(utftext+=String.fromCharCode(c>>12|224),utftext+=String.fromCharCode(c>>6&63|128),utftext+=String.fromCharCode(63&c|128))}return utftext},cuppa.utf8Decode=function(utftext){let string="",i=0,c,c2,c3=0;for(;i<utftext.length;)c=utftext.charCodeAt(i),c<128?(string+=String.fromCharCode(c),i++):c>191&&c<224?(c2=utftext.charCodeAt(i+1),string+=String.fromCharCode((31&c)<<6|63&c2),i+=2):(c2=utftext.charCodeAt(i+1),c3=utftext.charCodeAt(i+2),string+=String.fromCharCode((15&c)<<12|(63&c2)<<6|63&c3),i+=3);return string},cuppa.removeTags=function(input,allowed){allowed=(((allowed||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");let tags=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,commentsAndPhpTags=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return input.replace(commentsAndPhpTags,"").replace(tags,(function($0,$1){return allowed.indexOf("<"+$1.toLowerCase()+">")>-1?$0:""}))},cuppa.cutText=function(delimiter,text,lenght,string_to_end,delimiter_forced,remove_tags){return void 0===text&&(text=""),void 0===delimiter&&(delimiter=" "),void 0===lenght&&(lenght=200),void 0===string_to_end&&(string_to_end=""),void 0===delimiter_forced&&(delimiter_forced=!1),void 0===remove_tags&&(remove_tags=!1),remove_tags&&(text=cuppa.removeTags(text)),delimiter_forced?(text=text.substr(0,lenght),!1!==cuppa.strrpos(text,delimiter)&&(text=cuppa.trim(text.substr(0,cuppa.strrpos(text,delimiter)))),text+=string_to_end):text.length>lenght&&(text=text.substr(0,lenght),!1!==cuppa.strrpos(text,delimiter)&&(text=cuppa.trim(text.substr(0,cuppa.strrpos(text,delimiter)))),text+=string_to_end),text},cuppa.strpos=function(haystack,needle,offset){let i=(haystack+"").indexOf(needle,offset||0);return-1!==i&&i},cuppa.strrpos=function(haystack,needle,offset){let i=-1;return offset?(i=(haystack+"").slice(offset).lastIndexOf(needle),-1!==i&&(i+=offset)):i=(haystack+"").lastIndexOf(needle),i>=0&&i},cuppa.getFileDescription=function(file,forced){if(!file)return null;Array.isArray(file)&&(file=file[0]);let separator="/",array=(file=cuppa.replace(file,"\\\\","/")).split("/");""===cuppa.trim(array[array.length-1])&&array.pop();let obj={};obj.name_complete=array.pop(),obj.path=array.join("/")+"/",obj.file=obj.path+obj.name_complete;let array2=obj.name_complete.split(".");return array2.length>1||"file"===forced?(obj.type="file",array2.length>1?obj.extension=array2.pop().toLowerCase():obj.extension="",obj.name=array2.join(".")):obj.type="folder",obj},cuppa.fileDescription=function(filePath){return cuppa.getFileDescription(filePath)},cuppa.nl2br=function(value){return value.replace(/\r?\n/g,"<br />")},cuppa.br2nl=function(value){return value.replace(/<br\s*[/]?>/gi,"\n")},cuppa.jsonDecode=function(value,base64_decode,opts){if(opts=cuppa.mergeObjects([{removeBreakLines:!0,deleteDoubleSpaces:!1},opts]),null==value)return"";void 0===base64_decode&&(base64_decode=!0),base64_decode&&cuppa.isBase64(value)&&(value=cuppa.base64Decode(value)),opts.removeBreakLines&&(value=cuppa.removeBreakLines(value)),opts.deleteDoubleSpaces&&(value=cuppa.deleteDoubleSpaces(value));try{value=JSON.parse(value)}catch(err){}return value},cuppa.jsonEncode=function(value,base64_encode){if(null==value)return"";void 0===base64_encode&&(base64_encode=!0);try{value=JSON.stringify(value)}catch(err){}return base64_encode&&(value=cuppa.base64Encode(value)),value},cuppa.base64Decode=function(value){return value?Base64.decode(value):""},cuppa.base64Encode=function(value){return value?Base64.encode(value):""},cuppa.urlEncode=function(string){return encodeURIComponent(string)},cuppa.urlDecode=function(string){return string=cuppa.replace(string," ","+"),decodeURIComponent(string)},cuppa.numberFormat=function(number,decimals,dec_point,thousands_sep){number=(number+"").replace(/[^0-9+\-Ee.]/g,"");let n=isFinite(+number)?+number:0,prec=isFinite(+decimals)?Math.abs(decimals):0,sep=void 0===thousands_sep?",":thousands_sep,dec=void 0===dec_point?".":dec_point,s="",toFixedFix;return s=(prec?function(n,prec){let k=Math.pow(10,prec);return""+(Math.round(n*k)/k).toFixed(prec)}(n,prec):""+Math.round(n)).split("."),s[0].length>3&&(s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep)),(s[1]||"").length<prec&&(s[1]=s[1]||"",s[1]+=new Array(prec-s[1].length+1).join("0")),s.join(dec)},cuppa.left0=function(value){return(value=parseFloat(value))<10&&(value="0"+value),value},cuppa.uuid=function(){let d=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(d+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){let r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"===c?r:3&r|8).toString(16)}))},cuppa.getUuid=function(){return cuppa.uuid()},cuppa.isUuid=function(value){if(!value)return!1;let s=value;return s=s.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),null!==s},cuppa.htmlEntitiesMap={"'":"&apos;","<":"&lt;",">":"&gt;"," ":"&nbsp;","¡":"&iexcl;","¢":"&cent;","£":"&pound;","¤":"&curren;","¥":"&yen;","¦":"&brvbar;","§":"&sect;","¨":"&uml;","©":"&copy;","ª":"&ordf;","«":"&laquo;","¬":"&not;","®":"&reg;","¯":"&macr;","°":"&deg;","±":"&plusmn;","²":"&sup2;","³":"&sup3;","´":"&acute;","µ":"&micro;","¶":"&para;","·":"&middot;","¸":"&cedil;","¹":"&sup1;","º":"&ordm;","»":"&raquo;","¼":"&frac14;","½":"&frac12;","¾":"&frac34;","¿":"&iquest;","À":"&Agrave;","Á":"&Aacute;","Â":"&Acirc;","Ã":"&Atilde;","Ä":"&Auml;","Å":"&Aring;","Æ":"&AElig;","Ç":"&Ccedil;","È":"&Egrave;","É":"&Eacute;","Ê":"&Ecirc;","Ë":"&Euml;","Ì":"&Igrave;","Í":"&Iacute;","Î":"&Icirc;","Ï":"&Iuml;","Ð":"&ETH;","Ñ":"&Ntilde;","Ò":"&Ograve;","Ó":"&Oacute;","Ô":"&Ocirc;","Õ":"&Otilde;","Ö":"&Ouml;","×":"&times;","Ø":"&Oslash;","Ù":"&Ugrave;","Ú":"&Uacute;","Û":"&Ucirc;","Ü":"&Uuml;","Ý":"&Yacute;","Þ":"&THORN;","ß":"&szlig;","à":"&agrave;","á":"&aacute;","â":"&acirc;","ã":"&atilde;","ä":"&auml;","å":"&aring;","æ":"&aelig;","ç":"&ccedil;","è":"&egrave;","é":"&eacute;","ê":"&ecirc;","ë":"&euml;","ì":"&igrave;","í":"&iacute;","î":"&icirc;","ï":"&iuml;","ð":"&eth;","ñ":"&ntilde;","ò":"&ograve;","ó":"&oacute;","ô":"&ocirc;","õ":"&otilde;","ö":"&ouml;","÷":"&divide;","ø":"&oslash;","ù":"&ugrave;","ú":"&uacute;","û":"&ucirc;","ü":"&uuml;","ý":"&yacute;","þ":"&thorn;","ÿ":"&yuml;","Œ":"&OElig;","œ":"&oelig;","Š":"&Scaron;","š":"&scaron;","Ÿ":"&Yuml;","ƒ":"&fnof;","ˆ":"&circ;","˜":"&tilde;","Α":"&Alpha;","Β":"&Beta;","Γ":"&Gamma;","Δ":"&Delta;","Ε":"&Epsilon;","Ζ":"&Zeta;","Η":"&Eta;","Θ":"&Theta;","Ι":"&Iota;","Κ":"&Kappa;","Λ":"&Lambda;","Μ":"&Mu;","Ν":"&Nu;","Ξ":"&Xi;","Ο":"&Omicron;","Π":"&Pi;","Ρ":"&Rho;","Σ":"&Sigma;","Τ":"&Tau;","Υ":"&Upsilon;","Φ":"&Phi;","Χ":"&Chi;","Ψ":"&Psi;","Ω":"&Omega;","α":"&alpha;","β":"&beta;","γ":"&gamma;","δ":"&delta;","ε":"&epsilon;","ζ":"&zeta;","η":"&eta;","θ":"&theta;","ι":"&iota;","κ":"&kappa;","λ":"&lambda;","μ":"&mu;","ν":"&nu;","ξ":"&xi;","ο":"&omicron;","π":"&pi;","ρ":"&rho;","ς":"&sigmaf;","σ":"&sigma;","τ":"&tau;","υ":"&upsilon;","φ":"&phi;","χ":"&chi;","ψ":"&psi;","ω":"&omega;","ϑ":"&thetasym;","ϒ":"&Upsih;","ϖ":"&piv;","–":"&ndash;","—":"&mdash;","‘":"&lsquo;","’":"&rsquo;","‚":"&sbquo;","“":"&ldquo;","”":"&rdquo;","„":"&bdquo;","†":"&dagger;","‡":"&Dagger;","•":"&bull;","…":"&hellip;","‰":"&permil;","′":"&prime;","″":"&Prime;","‹":"&lsaquo;","›":"&rsaquo;","‾":"&oline;","⁄":"&frasl;","€":"&euro;","ℑ":"&image;","℘":"&weierp;","ℜ":"&real;","™":"&trade;","ℵ":"&alefsym;","←":"&larr;","↑":"&uarr;","→":"&rarr;","↓":"&darr;","↔":"&harr;","↵":"&crarr;","⇐":"&lArr;","⇑":"&UArr;","⇒":"&rArr;","⇓":"&dArr;","⇔":"&hArr;","∀":"&forall;","∂":"&part;","∃":"&exist;","∅":"&empty;","∇":"&nabla;","∈":"&isin;","∉":"&notin;","∋":"&ni;","∏":"&prod;","∑":"&sum;","−":"&minus;","∗":"&lowast;","√":"&radic;","∝":"&prop;","∞":"&infin;","∠":"&ang;","∧":"&and;","∨":"&or;","∩":"&cap;","∪":"&cup;","∫":"&int;","∴":"&there4;","∼":"&sim;","≅":"&cong;","≈":"&asymp;","≠":"&ne;","≡":"&equiv;","≤":"&le;","≥":"&ge;","⊂":"&sub;","⊃":"&sup;","⊄":"&nsub;","⊆":"&sube;","⊇":"&supe;","⊕":"&oplus;","⊗":"&otimes;","⊥":"&perp;","⋅":"&sdot;","⌈":"&lceil;","⌉":"&rceil;","⌊":"&lfloor;","⌋":"&rfloor;","⟨":"&lang;","⟩":"&rang;","◊":"&loz;","♠":"&spades;","♣":"&clubs;","♥":"&hearts;","♦":"&diams;"},cuppa.htmlEntitiesDecode=function(string){let entityMap=cuppa.htmlEntitiesMap;for(let key in entityMap){let entity=entityMap[key],regex=new RegExp(entity,"g");string=string.replace(regex,key)}return string=(string=string.replace(/&quot;/g,'"')).replace(/&amp;/g,"&")},cuppa.htmlEntitiesEncode=function(string){let entityMap=cuppa.htmlEntitiesMap;string=(string=string.replace(/&/g,"&amp;")).replace(/"/g,"&quot;");for(let key in entityMap){let entity=entityMap[key],regex=new RegExp(key,"g");string=string.replace(regex,entity)}return string},cuppa.global={},cuppa.dataDefault={},cuppa.data={},cuppa.setData=function(name,opts){if(null!=(opts=cuppa.mergeObjects([{storage:"",silence:!1,data:null},opts])).store&&(opts.storage=opts.store),void 0!==opts.default&&null!==opts.default){cuppa.dataDefault[name]=opts.default,opts.default=null;let current=cuppa.getData(name,opts);return null!=current&&null!=current||(current=cuppa.dataDefault[name]),opts.data=current,void cuppa.setData(name,opts).then()}cuppa.data[name]=opts.data,"local"===opts.storage?cuppa.localStorage(name,cuppa.jsonEncode(opts.data,!1)):"session"===opts.storage?cuppa.sessionStorage(name,cuppa.jsonEncode(opts.data,!1)):"cookie"===opts.storage&&cuppa.setCookie(name,cuppa.jsonEncode(opts.data,!1)),opts.silence||cuppa.executeListener(name,opts.data)},cuppa.getData=function(name,opts){null!=(opts=cuppa.mergeObjects([{storage:"",callback:null,default:null},opts])).store&&(opts.storage=opts.store);let data=cuppa.data[name];if("local"===opts.storage){let ls=cuppa.localStorage(name);ls&&(data=cuppa.jsonDecode(ls,!1))}else if("session"===opts.storage){let st=cuppa.sessionStorage(name);st&&(data=cuppa.jsonDecode(st,!1))}else if("cookie"===opts.storage){let st=cuppa.getCookie(name);st&&(data=cuppa.jsonDecode(st,!1))}return void 0===data&&(data=opts.default),null!=data&&opts.callback&&opts.callback(data),opts.callback&&cuppa.addListener(name,opts.callback),data},cuppa.getDataSync=function(name,opts){opts=cuppa.mergeObjects([{default:null},opts]);let data=cuppa.data[name];return void 0===data&&(data=opts.default),data},cuppa.deleteData=function(name,opts){null!=(opts=cuppa.mergeObjects([{storage:""},opts])).store&&(opts.storage=opts.store),cuppa.data[name]=null,"local"===opts.storage?localStorage.removeItem(name):"session"===opts.storage?sessionStorage.removeItem(name):"cookie"===opts.storage&&cuppa.deleteCookie(name)},cuppa.listeners={},cuppa.addListener=function(name,callback){cuppa.listeners[name]||(cuppa.listeners[name]=[]),cuppa.listeners[name].push(callback)},cuppa.removeListener=function(name,callback,toString){cuppa.listeners[name]||(cuppa.listeners[name]=[]);let array=cuppa.listeners[name];for(let i=0;i<array.length;i++)toString?array[i].toString()===callback.toString()&&array.splice(i,1):array[i]===callback&&array.splice(i,1)},cuppa.removeListenerGroup=function(name){delete cuppa.listeners[name]},cuppa.executeListener=function(name,data){cuppa.listeners[name]||(cuppa.listeners[name]=[]);let array=cuppa.listeners[name];for(let i=0;i<array.length;i++)array[i](data)},cuppa.dispatchEvents=function(element){element&&!element.dispatchEvent&&Object.assign(element,EventDispatcher.prototype)},cuppa.dispatchEvents(cuppa),cuppa.eventGroups=[],cuppa.on=function(elements,event,callback,groupName,useCapture){if(elements){"removed"===event&&(event="DOMNodeRemoved"),elements=cuppa.element(elements),cuppa.off(elements,event,callback,groupName),groupName||(groupName="default"),void 0===useCapture&&(useCapture=!1),cuppa.eventGroups[groupName]||(cuppa.eventGroups[groupName]=new Map);for(let i=0;i<elements.length;i++){let element=elements[i];if(!element)continue;element.addEventListener&&element.addEventListener(event,callback,useCapture);let events=cuppa.eventGroups[groupName].get(element);events||(events=[]),events.push({event:event,callback:callback}),cuppa.eventGroups[groupName].set(element,events)}}},cuppa.off=function(elements,event,callback,groupName){if(elements=cuppa.element(elements),groupName||(groupName="default"),cuppa.eventGroups[groupName]&&elements){"removed"===event&&(event="DOMNodeRemoved");for(let i=0;i<elements.length;i++){let events=cuppa.eventGroups[groupName].get(elements[i]);if(!events)break;for(let j=events.length-1;j>=0;j--)if(callback){if(events[j].event===event&&events[j].callback===callback){elements[i].removeEventListener(events[j].event,events[j].callback),events.splice(j,1);break}}else events[j].event===event&&(elements[i].removeEventListener(events[j].event,events[j].callback),events.splice(j,1));cuppa.eventGroups[groupName].set(elements[i],events)}}},cuppa.offGroup=function(groupName){groupName||(groupName="default");let map=cuppa.eventGroups[groupName];map&&(map.forEach((function(events,element){for(let i=0;i<events.length;i++)element.removeEventListener(events[i].event,events[i].callback)})),map.delete(groupName))},cuppa.addToArray=function(array,value,removeDuplicates){if(array&&null!=value&&null!=value)return null==removeDuplicates&&(removeDuplicates=!0),array.push(value),removeDuplicates&&(array=cuppa.removeDuplicate(array)),array},cuppa.removeInArray=function(array,value){if(array&&null!=value&&null!=value){for(;array.indexOf(value)>-1;)array.splice(array.indexOf(value),1);return array}},cuppa.removeDuplicate=function(array,key,useSet){if(useSet){let setData=new Set(array);array=[...setData]}else if(key){let map=cuppa.arrayToMap(array,key);array=cuppa.mapToArray(map)}else array=array.filter((thing,index)=>index===array.findIndex(obj=>JSON.stringify(obj)===JSON.stringify(thing)));return array},cuppa.cloneObject=function(object,useJSON){let object2;return void 0===useJSON&&(useJSON=!0),object2=useJSON?JSON.parse(JSON.stringify(object)):Object.assign({},object),object2},cuppa.updateObject=function(ref,path,value){if(ref||(ref={}),!path)return null;let i;path=cuppa.trim(path).split(".");let obj=ref;for(i=0;i<path.length-1;i++)obj[path[i]]||(obj[path[i]]={}),obj=obj[path[i]];try{obj[path[i]]=value}catch(err){}return ref},cuppa.objectToURL=function(object,encode){void 0===encode&&(encode=!0);let str="";for(let key in object)str+="&",object[key]?str+=encode?key+"="+encodeURIComponent(object[key]):key+"="+object[key]:str+=key;return str},cuppa.objectLength=function(object){return Object.keys(object).length},cuppa.cloneArray=function(array){return array.slice(0)},cuppa.arrayClone=function(array){return cuppa.cloneArray(array)},cuppa.arrayToMap=function(array,value,opts){if(!array)return{};opts=cuppa.mergeObjects([{lowerCase:!1},opts]);let map={};for(let i=0;i<array.length;i++)if(value){let key=array[i][value];opts.lowerCase&&(key=key.toLowerCase()),map[key]=array[i]}else map[array[i]]=array[i];return map},cuppa.mapToArray=function(map){let array=[];return Object.keys(map).map(key=>{array.push(map[key])}),array},cuppa.urlValue=function(name,url){url||(url=cuppa.getPath());let regexS,regex,tmpURL=url,result=new RegExp("[\\?&]"+name+"=([^&#]*)","i").exec(tmpURL);return null==result?"":(result=result[1],result=cuppa.replace(result,"%20"," "),result=cuppa.replace(result,"\\+"," "),result)},cuppa.sortObject=function(object,reverse){let keys=Object.keys(object);keys.sort(),reverse&&keys.reverse();let tmpObject={};for(let i=0;i<keys.length;i++)tmpObject[keys[i]]=object[keys[i]];return tmpObject},cuppa.isMobile=function(){let check=!1;var a;return a=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0),check},cuppa.isTouch=cuppa.touchSupport=function(){return"ontouchstart"in document.documentElement},cuppa.flashSupport=function(){let hasFlash=!1;try{let fo;new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(hasFlash=!0)}catch(e){navigator.mimeTypes&&null!=navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(hasFlash=!0)}return hasFlash},cuppa.join=function(item,glue){null==glue&&(glue=",");let string="",arr;return Object.keys(item).map((function(key){return item[key]})).forEach((function(item,index){index&&(string+=glue),string+=item})),string},cuppa.parseString=function(value){return value?String(value):""},cuppa.parseInt=function(string){return isNaN(string)||!string?0:!0===string||"true"===string?1:!1===string||"false"===string?0:parseInt(string)},cuppa.toNumber=function(string){return isNaN(string)||!string?0:!0===string||"true"===string?1:!1===string||"false"===string?0:parseFloat(string)},cuppa.parseFloat=function(string){return cuppa.toNumber(string)},cuppa.isNaN=function(value){return isNaN(parseFloat(value))},cuppa.tooltip=function(elements,opts){this.opts=cuppa.mergeObjects([{class:"a-r-t",style:""},opts]),this.elements=elements||".cu-tooltip",this.elements=cuppa.element(this.elements),this.mouseenter=function(e){let element=e.currentTarget,tooltip=cuppa.newElement("<div class='tooltip-message'></div>");tooltip.innerHTML=cuppa.attr(element,"tooltip");let classes=cuppa.attr(element,"tooltip-class")||this.opts.class;cuppa.addClass(tooltip,classes);let style=cuppa.attr(element,"tooltip-style")||this.opts.style;cuppa.attr(tooltip,"style",style),element.tooltipElement=tooltip,cuppa.append(tooltip,element)}.bind(this),this.mouseleave=function(e){let element=e.currentTarget;cuppa.remove(element.tooltipElement)}.bind(this);for(let i=0;i<this.elements.length;i++){let element=this.elements[i];element.cuTooltip||(element.cuTooltip=this,cuppa.on(element,"mouseenter",this.mouseenter),cuppa.on(element,"mouseleave",this.mouseleave))}},cuppa.css=function(elements,property,opts){if(elements){elements=cuppa.element(elements);for(let k=0;k<elements.length;k++){let element=elements[k];if("object"!=typeof property){let value;(opts=opts||{}).number=opts.number||!1;try{let style;value=window.getComputedStyle(element).getPropertyValue(property),opts.number&&(value=parseFloat(value)||0)}catch(err){value=null}return value}Array.isArray(element)||(element=[element]);for(let i=0;i<element.length;i++)for(let css in property){let value=property[css],priority="";value&&(value=String(value),-1!=value.indexOf("!important")&&(priority="important",value=value.replace("!important","")),element[i].style.setProperty(cuppa.trim(css),cuppa.trim(value),priority))}}}},cuppa.cssSum=function(elements,property,includeMargin){null==includeMargin&&(includeMargin=!0),elements=cuppa.element(elements);let result=0;for(let i=0;i<elements.length;i++){let element=elements[i];if("height"==property||"width"==property){let dim=cuppa.dim(element);result+=includeMargin?dim[property+"4"]:dim[property]}else result+=cuppa.css(element,property,{number:!0})}return result},cuppa.maxZIndex=function(allElements){let zIndex=1,childs;null==allElements&&(allElements=!0),allElements&&(childs=cuppa.element("*"));for(let i=0;i<childs.length;i++){let child=childs[i],style=getComputedStyle(child),zIndexTemp=cuppa.parseFloat(style.zIndex);zIndexTemp>zIndex&&(zIndex=zIndexTemp)}return zIndex},cuppa.blur=function(){document.activeElement!=document.body&&document.activeElement.blur(),cuppa.unselect()},cuppa.focus=function(element){element.focus()},cuppa.unselect=function(){document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()},cuppa.mergeObjects=function(array_objs,create_new_object){if(create_new_object){let tmp_obj={};for(let i=0;i<array_objs.length;i++){let obj=array_objs[i];if(obj)for(let attrname in obj)tmp_obj[attrname]=obj[attrname]}return tmp_obj}{let obj1=array_objs.shift();for(let i=0;i<array_objs.length;i++){let obj=array_objs[i];if(obj)for(let attrname in obj)obj1[attrname]=obj[attrname]}return obj1}},cuppa.joinObjects=function(array_objs,create_new_object){return cuppa.mergeObjects(array_objs,create_new_object)},cuppa.mergeArrays=function(arrays){let result=[];for(let i=0;i<arrays.length;i++)arrays[i]&&(result=result.concat(arrays[i]));return result},cuppa.joinArrays=function(arrays){return cuppa.mergeArrays(arrays)},cuppa.objectArrayToArray=function(object){object||(object={});let array=[],keys=Object.keys(object);for(let i=0;i<keys.length;i++)array.push(object[keys[i]]);return array},cuppa.arrayObjectSort=function(data,key,orderBy,type){if(!data)return[];let result;return orderBy||(orderBy="ASC"),data.sort((a,b)=>a[key]?"ASC"==orderBy.toUpperCase()?"string"==type?a[key].toLowerCase()>b[key].toLowerCase()?1:-1:"date"==type?new Date(a[key])>new Date(b[key])?1:-1:a[key]>b[key]?1:-1:"string"==type?a[key].toLowerCase()<b[key].toLowerCase()?1:-1:"date"==type?new Date(a[key])<new Date(b[key])?1:-1:a[key]<b[key]?1:-1:1)},cuppa.arrayObjectSortPriority=function(data,key,priorityArray,caseSensitive){if(!data)return[];if(!priorityArray)return data;caseSensitive||(caseSensitive=!0);let result=[];return priorityArray.map(priority=>{result=[...result,...data.filter(item=>{let value=item[key]||"";return caseSensitive&&"string"==typeof value&&"string"==typeof priority?value.toUpperCase()==priority.toUpperCase():value==priority})]}),result=[...result,...data.filter(item=>-1==priorityArray.findIndex(priority=>{let value=item[key]||"";return caseSensitive&&"string"==typeof value&&"string"==typeof priority?value.toUpperCase()==priority.toUpperCase():value==priority}))],result},cuppa.setCookie=function(name,value,exdays){if(exdays){let exdate=new Date;exdate.setDate(exdate.getDate()+exdays);let value=escape(value)+(null==exdays?"":"; expires="+exdate.toUTCString());document.cookie=name+"="+value+";path=/"}else document.cookie=name+"="+value+";path=/"},cuppa.getCookie=function(name,documentRef){null==documentRef&&(documentRef=document);let results=documentRef.cookie.match("(^|;) ?"+name+"=([^;]*)(;|$)");return results?unescape(results[2]):null},cuppa.deleteCookie=function(name){document.cookie=name+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"},cuppa.sessionStorage=function(name,value,cookie){if(null==cookie&&(cookie=!1),null==value)return sessionStorage.getItem(name);sessionStorage.setItem(name,value),cookie&&cuppa.setCookie(name,value)},cuppa.localStorage=function(name,value,cookie){if(null==cookie&&(cookie=!1),null==value)return localStorage.getItem(name);localStorage.setItem(name,value),cookie&&cuppa.setCookie(name,value)},cuppa.getValue=function(data,path,defaultValue){if(!data)return defaultValue;if(data&&!path)return data;path=cuppa.trim(path).split(".");let element=data;for(let i=0;i<path.length;i++)try{element=element[path[i]]}catch(err){element="";break}if(element){let tmp=JSON.stringify(element);"{}"!=tmp&&"[]"!=tmp&&null!=tmp&&null!=tmp||(element="")}return""!==element&&null!=element||null==defaultValue||(element=defaultValue),element},cuppa.value=function(data,path,defaultValue){return cuppa.getValue(data,path,defaultValue)};var val=function(data,path,defaultValue){return cuppa.getValue(data,path,defaultValue)};cuppa.URLHash="",cuppa.URLBase="",cuppa.getPath=function(returnArray,opts){if(opts=cuppa.mergeObjects([{removeBase:!0},opts]),"undefined"==typeof document)return;let basePath=document.querySelector("base"),path=window.location.href;if(basePath&&"/"!=basePath.getAttribute("href")&&opts.removeBase&&(path=cuppa.replace(path,basePath.getAttribute("href"),"")),cuppa.URLBase&&(path=cuppa.replace(path,cuppa.URLBase,"")),path=cuppa.replace(path,"//",""),path=cuppa.replace(path,"https:",""),path=cuppa.replace(path,"http:",""),!basePath&&!cuppa.URLBase)try{path=path.substr(path.indexOf("/")+1)}catch(err){}return returnArray&&(path=path.split("/")),path},cuppa.setPath=function(path,title,callback){null==title&&(title=""),path=null==path||""==path?" ":cuppa.URLHash+path,window.history.pushState(path,title,path),callback&&callback()},cuppa.back=function(){window.history.back()},cuppa.forward=function(){window.history.forward()},cuppa.getPathData=function(path,opts){path||(path=cuppa.getPath()),path=cuppa.replace(path,cuppa.URLHash,""),opts=cuppa.mergeObjects([{removeFirst:!1},opts]);let obj={url:path},base=path;base=cuppa.replace(base,"#/",""),base=cuppa.replace(base,"#",""),-1!=base.indexOf("?")&&(base=base.substr(0,base.indexOf("?"))),obj.base=base,obj.baseArray=base.split("/"),obj.baseArray=obj.baseArray.filter(item=>item),opts.removeFirst&&(obj.baseArray.shift(),obj.base=obj.baseArray.join("/")),obj.domain=cuppa.replace(obj.base,"https://",""),obj.domain=cuppa.replace(obj.domain,"http://",""),obj.domain=obj.domain.substr(0,obj.domain.indexOf("/")),obj.protocol="http",-1!=path.indexOf("https://")&&(obj.protocol="https");let dataStr=path;if(-1!=dataStr.indexOf("?")||-1!=dataStr.indexOf("#")){-1!=dataStr.indexOf("?")&&(dataStr=dataStr.substr(path.indexOf("?")+1)),-1!=dataStr.indexOf("#")&&(dataStr=dataStr.substr(path.indexOf("#")+1));let dataArray=dataStr.split("&"),data={};for(let i=0;i<dataArray.length;i++){let parts=dataArray[i].split("=");parts[0]&&(data[parts[0]]=parts[1]||"")}obj.data=data}else obj.data={};return obj},cuppa.pathData=function(path,opts){return cuppa.getPathData(path,opts)},cuppa.extractArray=function(arrayData,column,opts){opts=cuppa.mergeObjects([{removeDuplicates:!0,orderBy:"ASC",noValueBehaviour:"end"},opts]);let result=arrayData.map(row=>row[column]);if(opts.removeDuplicates&&(result=Array.from(new Set(result))),"asc"==opts.orderBy.toLowerCase()&&(result=result.sort()),"desc"==opts.orderBy.toLowerCase()&&(result=result.sort(),result=result.reverse()),opts.noValueBehaviour){let index=result.indexOf("");-1!=index&&"end"==opts.noValueBehaviour?(result.splice(index,1),result.push("")):-1!=index&&"remove"==opts.noValueBehaviour&&result.splice(index,1)}return result},cuppa.sumArray=function(data){let total=0;for(let i=0;i<data.length;i++)total+=parseFloat(data[i]);return total},cuppa.numberParts=function(number){let parts=String(number).split(".");return parts[0]=parts[0]?parseFloat(parts[0]):0,parts[1]=parts[1]?parseFloat("."+parts[1]):0,parts},cuppa.filterArray=function(array,opts){opts=cuppa.mergeObjects([{condArray:null,type:"OR"},opts]),array||(array=[]);let result=[];for(let i=0;i<array.length;i++){let row=array[i],valid=!1;if(opts.condArray)for(let j=0;j<opts.condArray.length&&(valid=cuppa.filterArrayValidate(row,opts.condArray[j]),!valid);j++);valid&&result.push(row)}return result},cuppa.filterArrayValidate=function(row,condStr,opts){let condParts;opts=cuppa.mergeObjects([{caseSensitive:!0},opts]);let cond={};if(-1!=condStr.indexOf(">=")?(condParts=condStr.split(">="),cond.condition=">="):-1!=condStr.indexOf("<=")?(condParts=condStr.split("<="),cond.condition="<="):-1!=condStr.indexOf("==")?(condParts=condStr.split("=="),cond.condition="=="):-1!=condStr.indexOf("like")?(condParts=condStr.split("like"),cond.condition="like"):-1!=condStr.indexOf("LIKE")&&(condParts=condStr.split("LIKE"),cond.condition="LIKE"),cond.column=cuppa.trim(condParts[0]),cond.value=row[cond.column]||"",cond.compareWith=cuppa.trim(condParts[1]),opts.caseSensitive&&(cond.value=cond.value.toLowerCase(),cond.compareWith=cond.compareWith.toLowerCase()),">="==cond.condition){if(cond.value>=cond.compareWith)return!0}else if("<="==cond.condition){if(cond.value<=cond.compareWith)return!0}else if("=="==cond.condition){if(cond.value==cond.compareWith)return!0}else if("like"==cond.condition.toLowerCase()&&cuppa.likeString(cond.value,cond.compareWith))return!0;return!1},cuppa.timer=function(opts){this.opts=opts||{},this.hours=opts.hours||0,this.minutes=opts.minutes||0,this.seconds=opts.seconds||0,this.running=!1,this.interval=null,this.calculate=function(){this.seconds+=1,60==this.seconds&&(this.seconds=0,this.minutes+=1),60==this.minutes&&(this.seconds=0,this.minutes=0,this.hours+=1),this.opts.callback&&this.opts.callback(this)}.bind(this),this.start=function(reset){this.destroy(),reset&&this.reset(),this.interval=setInterval(this.calculate,1e3),this.running=!0,this.opts.callback&&this.opts.callback(this)}.bind(this),this.stop=function(reset){this.destroy(),reset&&this.reset(),this.running=!1}.bind(this),this.reset=function(){this.hours=0,this.minutes=0,this.seconds=0}.bind(this),this.getSeconds=function(){return 60*this.hours*60+60*this.minutes+this.seconds}.bind(this),this.destroy=function(){this.interval&&(clearInterval(this.interval),this.interval=null)}.bind(this)},cuppa.sizeFormat=function(bytes,si){void 0===si&&(si=!0);let thresh=si?1e3:1024;if(Math.abs(bytes)<thresh)return bytes+" B";let units=si?["KB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],u=-1;do{bytes/=thresh,++u}while(Math.abs(bytes)>=thresh&&u<units.length-1);return bytes.toFixed(1)+" "+units[u]},cuppa.copy=function(element,opts){if((opts=cuppa.mergeObjects([{success:null,error:null,alert:!1,innerHTML:!1},opts])).callback&&(opts.success=opts.callback),element=cuppa.element(element)[0],"textarea"!=cuppa.elementType(element)&&"input"!=cuppa.elementType(element)){let textArea;textArea=opts.innerHTML?cuppa.newElement("<textarea style='position:absolute; top:0; left:0; width:0; height:0; opacity:0'>"+element.innerHTML+"</textarea>"):cuppa.newElement("<textarea style='position:absolute; top:0; left:0; width:0; height:0; opacity:0'>"+element.outerHTML+"</textarea>"),cuppa.append(textArea,document.body),textArea.select();try{document.execCommand("copy"),opts.success&&opts.success()}catch(err){opts.error&&opts.error()}cuppa.remove(textArea)}else{let textArea=cuppa.newElement("<textarea style='position:absolute; top:0; left:0; width:0; height:0; opacity:0'>"+element.value+"</textarea>");cuppa.append(textArea,document.body),textArea.select();try{document.execCommand("copy"),opts.success&&opts.success()}catch(err){opts.error&&opts.error()}cuppa.remove(textArea)}opts.alert&&alert(opts.alert)}.bind(this),cuppa.selectText=function(element,start,end){start=start||0,end=end||element.value.length,element.setSelectionRange(start,end)},cuppa.tabs=function(elements,opts){this.elements=cuppa.element(elements),this.elementContents=[],this.opts=cuppa.mergeObjects([{display:"block",height:!1},opts]),this.hide=function(elements){elements||(elements=this.elementContents),this.opts.height?cuppa.css(elements,{height:"0px"}):cuppa.hide(elements,{duration:0})}.bind(this),this.show=function(e){e.currentTarget&&(e=e.currentTarget),this.hide(),cuppa.removeClass(this.elements,"selected"),cuppa.addClass(e,"selected"),this.opts.height?cuppa.css(e.tabContent,{height:"auto"}):cuppa.show(e.tabContent,{duration:0})}.bind(this),this.elements.forEach(function(item,index){let tabContent=cuppa.attr(item,"tab-content");tabContent=cuppa.element(tabContent)[0],this.elementContents.push(tabContent),item.tabContent=tabContent,this.hide()}.bind(this)),this.show(this.elements[0]),cuppa.on(this.elements,"click",this.show)},cuppa.lang=function(){return(document.documentElement.lang||"").toLowerCase()},cuppa.language=function(){return cuppa.lang()},cuppa.currentLanguage=function(){return cuppa.lang()},cuppa.accordion=function(element,btn,opts){this.element=cuppa.element(element)[0],this.btn=cuppa.element(btn)[0],this.opts=cuppa.mergeObjects([{init:"collapsed",callback:null,ease:null},opts]),this.childContent=cuppa.childrens(this.element)[0],"collapsed"==this.opts.init&&cuppa.css(this.element,{height:"0px"}),this.element.accordion=this.btn.accordion=this,this.open=function(value){let dim=cuppa.dim(this.element);(value.currentTarget||null==value)&&(value=!dim.height);let dim2=cuppa.dim(this.childContent);if(window.TweenMax.killTweensOf([this.element,this.btn]),value){let tl=new window.TimelineMax;tl.add(function(){cuppa.addClass([this.element,this.btn],"open")}.bind(this)),tl.to(this.element,.4,{height:dim2.height,ease:this.opts.ease}),tl.set(this.element,{height:"auto"})}else{let tl=new window.TimelineMax;tl.set(this.element,{height:dim2.height}),tl.to(this.element,.4,{height:0,ease:this.opts.ease}),tl.add(function(){cuppa.removeClass([this.element,this.btn],"open")}.bind(this))}this.opts.callback&&this.opts.callback(this.btn)}.bind(this),this.isOpen=function(){return cuppa.hasClass(this.btn,"open")}.bind(this),cuppa.on(this.btn,"click",this.open)},cuppa.ip=async function(){let result="";try{let data=await fetch("//www.cloudflare.com/cdn-cgi/trace");data=await data.text(),result=data.match(new RegExp("ip=.*"))[0],result=cuppa.replace(result,"ip=","").trim()}catch(err){log(err)}return result},cuppa.browser=function(){return cuppa.OS()},cuppa.OS=function(){let unknown="-",screen=document.defaultView.screen,screenSize={};screen.width&&(screenSize.width=screen.width?screen.width:"",screenSize.height=screen.height?screen.height:"");let nVer=navigator.appVersion,nAgt=navigator.userAgent,browser=navigator.appName,version=""+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10),nameOffset,verOffset,ix;-1!=(verOffset=nAgt.indexOf("Opera"))&&(browser="Opera",version=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(version=nAgt.substring(verOffset+8))),-1!=(verOffset=nAgt.indexOf("OPR"))?(browser="Opera",version=nAgt.substring(verOffset+4)):-1!=(verOffset=nAgt.indexOf("Edge"))?(browser="Microsoft Legacy Edge",version=nAgt.substring(verOffset+5)):-1!=(verOffset=nAgt.indexOf("Edg"))?(browser="Microsoft Edge",version=nAgt.substring(verOffset+4)):-1!=(verOffset=nAgt.indexOf("MSIE"))?(browser="Microsoft Internet Explorer",version=nAgt.substring(verOffset+5)):-1!=(verOffset=nAgt.indexOf("Chrome"))?(browser="Chrome",version=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(browser="Safari",version=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(version=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(browser="Firefox",version=nAgt.substring(verOffset+8)):-1!=nAgt.indexOf("Trident/")?(browser="Microsoft Internet Explorer",version=nAgt.substring(nAgt.indexOf("rv:")+3)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(browser=nAgt.substring(nameOffset,verOffset),version=nAgt.substring(verOffset+1),browser.toLowerCase()==browser.toUpperCase()&&(browser=navigator.appName)),-1!=(ix=version.indexOf(";"))&&(version=version.substring(0,ix)),-1!=(ix=version.indexOf(" "))&&(version=version.substring(0,ix)),-1!=(ix=version.indexOf(")"))&&(version=version.substring(0,ix)),majorVersion=parseInt(""+version,10),isNaN(majorVersion)&&(version=""+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10));let mobile=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(nVer),cookieEnabled=!!navigator.cookieEnabled;void 0!==navigator.cookieEnabled||cookieEnabled||(document.cookie="testcookie",cookieEnabled=-1!=document.cookie.indexOf("testcookie"));let os="-",clientStrings=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Chrome OS",r:/CrOS/},{s:"Linux",r:/(Linux|X11(?!.*CrOS))/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(Mac OS|MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(let id in clientStrings){let cs=clientStrings[id];if(cs.r.test(nAgt)){os=cs.s;break}}let osVersion="-";switch(/Windows/.test(os)&&(osVersion=/Windows (.*)/.exec(os)[1],os="Windows"),os){case"Mac OS":case"Mac OS X":case"Android":osVersion=/(?:Android|Mac OS|Mac OS X|MacPPC|MacIntel|Mac_PowerPC|Macintosh) ([\.\_\d]+)/.exec(nAgt)[1];break;case"iOS":osVersion=/OS (\d+)_(\d+)_?(\d+)?/.exec(nVer),osVersion=osVersion[1]+"."+osVersion[2]+"."+(0|osVersion[3])}return{screenSize:screenSize,browserSize:{width:cuppa.width(),height:cuppa.height()},browser:browser,browserVersion:version,browserMajorVersion:majorVersion,mobile:mobile,os:os,osVersion:osVersion,cookies:cookieEnabled}},cuppa.shake=function(element,gsap){gsap.to(element,{duration:.1,x:10}),gsap.to(element,{duration:.1,delay:.1,x:-10}),gsap.to(element,{duration:.1,delay:.2,x:0})},cuppa.isJson=function(item){try{item=JSON.parse(item)}catch(e){item=null}return null!==item},cuppa.isBase64=function(string){if(!string||"true"==string||1==string)return!1;let base64regex;return/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(string)},cuppa.isImage=function(fileName,extensionsAllowed){extensionsAllowed||(extensionsAllowed=["jpeg","jpg","png","bmp","gif","tif","heic","raw","webp","exif","svg","cgm","ppm","pgm","pbm","pnm","bat","ico"]);let fileDesc=cuppa.fileDescription(fileName);return-1!=extensionsAllowed.indexOf(fileDesc.extension.toLowerCase())},cuppa.boolean=function(value){let result=value;return"true"===value?result=!0:"false"!==result&&0!==result&&"0"!==result&&void 0!==result||(result=!1),result},cuppa.ajax=function(url,opts,callback){(opts=opts||{}).method=opts.method?opts.method.toUpperCase():"POST",null==opts.async&&(opts.async=!0);let request=new XMLHttpRequest;if(request.open(opts.method,url,opts.async),opts.headers&&(opts.header=opts.headers),opts.header||(opts.header={}),opts.header["Content-Type"]||request.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),opts.header)for(let key in opts.header)request.setRequestHeader(key,opts.header[key]);function onComplete(){let result=this.responseText;opts.callback&&opts.callback(result,this),callback&&callback(result,this)}function onError(e){opts.onError&&opts.onError(e)}return request.addEventListener("load",onComplete),request.addEventListener("error",onError),opts.data&&"application/json"==opts.header["Content-Type"]?request.send(JSON.stringify(opts.data)):opts.data?request.send(cuppa.objectToURL(opts.data)):request.send(),request},cuppa.sticky=function(container,opts){cuppa.loaded(e=>{container=document.querySelector(container),(opts={className:"sticky-on",scrollOffset:1,fixedElements:null,...opts}).fixedElements&&(opts.fixedElements=document.querySelectorAll(opts.fixedElements)),cuppa.scroll(()=>{let pos=cuppa.scrollPosition(container);pos.y>=opts.scrollOffset?(cuppa.addClass(container,opts.className),opts.fixedElements&&cuppa.css(opts.fixedElements,{top:`${pos.y}px`})):(cuppa.removeClass(container,opts.className),opts.fixedElements&&cuppa.css(opts.fixedElements,{top:"0px"}))},container)})},cuppa.wait=async function(time){let result;return time||(time=1e3),await new Promise(resolve=>{setTimeout(()=>{resolve(!0)},time)})};var wait=function(time){return cuppa.wait(time)};cuppa.scrollPosition=function(element){let pos={x:0,y:0};return element&&"body"!=element&&"body"!=cuppa.elementType(element)&&element!=window?(pos.x=element.scrollLeft,pos.y=element.scrollTop):(pos.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,pos.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),pos},cuppa.scroll=function(callback,element){element&&"body"!=element||(element=window),document&&element==document.body&&(element=window),element.addEventListener("scroll",callback)},cuppa.percent=function(n,min,max,invert){let percent=(n-min)/(max-min);return percent<0?percent=0:percent>1&&(percent=1),invert&&(percent=1-percent),percent},cuppa.random=function(min,max,percent){let rand=percent||Math.random();return Math.floor(rand*(max-min))+min},cuppa.randomString=function(length,characters){length=length||5,characters=characters||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let text="";for(let i=0;i<length;i++)text+=characters.charAt(Math.floor(Math.random()*characters.length));return text},cuppa.randomColor=function(alpha){let color;return null==alpha&&(alpha=Math.random()),"rgba("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+alpha+")"},cuppa.newDim=function(width,height,new_width,new_height,invert,force){return cuppa.newDimensions(width,height,new_width,new_height,invert,force)},cuppa.newDimensions=function(width,height,new_width,new_height,invert,force){invert||(invert=!1),width=parseFloat(width),height=parseFloat(height),new_width=parseFloat(new_width),new_height=parseFloat(new_height);let porcent=1+(new_width-width)/width;if("width"==force){let porcent=1+(new_width-width)/width;return{width:new_width=width*porcent,height:new_height=height*porcent,scale:porcent}}if("height"==force){let porcent=1+(new_height-height)/height;return{width:new_width=width*porcent,height:new_height=height*porcent,scale:porcent}}return invert?height*porcent<=new_height?(new_width=width*porcent,new_height=height*porcent):(porcent=1+(new_height-height)/height,new_width=width*porcent,new_height=height*porcent):height*porcent>=new_height?(new_width=width*porcent,new_height=height*porcent):(porcent=1+(new_height-height)/height,new_width=width*porcent,new_height=height*porcent),{width:new_width,height:new_height,scale:porcent}},cuppa.dim=function(element,opts){return cuppa.dimentions(element,opts)},cuppa.dimentions=function(element,opts){opts||(opts={}),null!=element&&"body"!=element||(element=document.body);let value={width:0,height:0,x:0,y:0},parents=cuppa.parents(element),tmpParents=new Array;for(let i=0;i<parents.length;i++)"none"==cuppa.css(parents[i],"display")&&tmpParents.push(parents[i]);"none"==cuppa.css(element,"display")&&tmpParents.push(element),cuppa.css(tmpParents,{display:"block",visibility:"hidden"});let clientRect=element.getBoundingClientRect(),scrollPos=cuppa.scrollPosition(opts.scrollRef),style=getComputedStyle(element);return value.x=window.scrollX?clientRect.left+window.scrollX:clientRect.left+window.pageXOffset,value.y=window.scrollY?clientRect.top+window.scrollY:clientRect.top+window.pageYOffset,value.x2=element.offsetLeft,value.y2=element.offsetTop,value.x3=clientRect.left,value.y3=clientRect.top,value.x4=value.x+scrollPos.x,value.y4=value.y+scrollPos.x,value.width=element.offsetWidth,value.height=element.offsetHeight,value.width2=element.clientWidth-parseFloat(style.paddingLeft)-parseFloat(style.paddingRight),value.height2=element.clientHeight-parseFloat(style.paddingTop)-parseFloat(style.paddingBottom),value.width3=element.clientWidth,value.height3=element.clientHeight,value.width4=element.offsetWidth+parseFloat(style.marginLeft)+parseFloat(style.marginRight),value.height4=element.offsetHeight+parseFloat(style.marginTop)+parseFloat(style.marginBottom),value.scrollWidth=element.scrollWidth,value.scrollHeight=element.scrollHeight,value.clientWidth=element.clientWidth,value.clientHeight=element.clientHeight,cuppa.css(tmpParents,{display:"none",visibility:"visible"}),value},cuppa.width=function(outer){return outer?window.innerWidth:document.documentElement.clientWidth},cuppa.height=function(outer){return outer?window.innerHeight:document.documentElement.clientHeight},cuppa.arcParams=function(x,y,radius,startAngle,endAngle){function polarToCartesian(centerX,centerY,radius,angleInDegrees){let angleInRadians=(angleInDegrees-90)*Math.PI/180;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)}}let start=polarToCartesian(x,y,radius,endAngle),end=polarToCartesian(x,y,radius,startAngle),arcSweep=endAngle-startAngle<=180?"0":"1",d;return["M",start.x,start.y,"A",radius,radius,0,arcSweep,0,end.x,end.y,"L",x,y,"L",start.x,start.y].join(" ")},cuppa.getOpositeDimention=function(longitude,angle){let A=angle=angle/180*Math.PI,b,a;return longitude*Math.tan(A)},cuppa.countdown=function(dateTarget,callback,updateInterval){this.days=0,this.hours=0,this.minutes=0,this.seconds=0,this.timeout=null,this.constructor=function(){cuppa.bindAll(this,!0),null==updateInterval&&(updateInterval=1e3),this.update()},this.update=function(){let timeLeft=dateTarget.getTime()-(new Date).getTime();this.seconds=Math.floor(timeLeft/1e3),this.minutes=Math.floor(this.seconds/60),this.hours=Math.floor(this.minutes/60),this.days=Math.floor(this.hours/24),this.seconds%=60,this.minutes%=60,this.hours%=24,this.days<=0&&this.hours<=0&&this.minutes<=0&&this.seconds<=0?(this.days=0,this.hours=0,this.minutes=0,this.seconds=0):(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.update,updateInterval)),callback&&callback(this)},this.destroy=function(){this.timeout&&clearTimeout(this.timeout)},this.constructor()},cuppa.validateFormObject=function(object,opts){let result={valid:!0,desc:{}};return opts?(result.desc={},result.message="",result.field="",Object.keys(opts).map(key=>{let value=object[key],opt=opts[key],desc={};"email"!=opt.type||cuppa.email(value)||(desc.type=!1,desc.message=opt.message||"field must be an email",opt.typeMessage&&(desc.message=opt.typeMessage)),"number"==opt.type&&isNaN(parseFloat(value))&&(desc.type=!1,desc.message=opt.message||"field should be a number",opt.typeMessage&&(desc.message=opt.typeMessage)),opt.regExp&&!new RegExp(opt.regExp).test(value)&&(desc.regExp=!1,desc.message=opt.message||"regExp failed",opt.regExpMessage&&(desc.message=opt.regExpMessage)),opt.min&&parseFloat(value)<opt.min&&(desc.min=!1,desc.message=opt.message||`field must be greater than ${opt.min}`,opt.minMessage&&(desc.message=opt.minMessage)),opt.max&&parseFloat(value)>opt.max&&(desc.max=!1,desc.message=opt.message||`field must be lower than ${opt.max}`,opt.maxMessage&&(desc.message=opt.maxMessage)),opt.minLength&&cuppa.value(value,null,"").length<opt.minLength&&(desc.minLength=!1,desc.message=opt.message||`field must be more than ${opt.minLength} characters`,opt.minLengthMessage&&(desc.message=opt.minLengthMessage)),opt.maxLength&&cuppa.value(value,null,"").length>opt.maxLength&&(desc.maxLength=!1,desc.message=opt.message||`field must be less than ${opt.maxLength} characters`,opt.maxLengthMessage&&(desc.message=opt.maxLengthMessage)),opt.equalTo&&value!=object[opt.equalTo]&&(desc.equalTo=!1,desc.message=opt.message||`field must be equal to ${opt.equalTo} field`,opt.equalToMessage&&(desc.message=opt.equalToMessage)),!0===opt.checked&&value!==opt.checked&&(desc.checked=!1,desc.message=opt.message||"field must be checked",opt.checkedMessage&&(desc.message=opt.checkedMessage)),!1===opt.checked&&value!==opt.checked&&(desc.checked=!1,desc.message=opt.message||"field must be unchecked",opt.checkedMessage&&(desc.message=opt.checkedMessage)),!opt.noEmptyArray||value&&value.length||(desc.type=!1,desc.message=opt.message||"field must contain elements",opt.typeMessage&&(desc.message=opt.typeMessage)),!opt.required||value&&("string"!=typeof value||cuppa.trim(value))||(desc.required=!1,desc.message=opt.message||"field is required",opt.requiredMessage&&(desc.message=opt.requiredMessage)),Object.keys(desc).length?(desc.valid=!1,result.valid=!1,result.message||(result.message=desc.message),result.field||(result.field=key),result.label||(result.label=opt.label||result.field)):desc.valid=!0,result.desc[key]=desc}),result.field&&opts[result.field]&&null!=opts[result.field].label&&(result.label=opts[result.field].label),result):result},cuppa.dropdown=function(element,buttonElement,opts){return this.element=cuppa.element(element)[0],this.buttonElement=cuppa.element(buttonElement)[0],this.opts=cuppa.mergeObjects([{scrollClose:!0,stopProgation:!1,mouseActionOpen:"click",toogle:!0,mouseActionClose:"click",display:"block",open:null,close:null,gsap:null},opts]),cuppa.css(this.element,{display:"none",opacity:0}),this.open=function(e){cuppa.hasClass(this.buttonElement,"cu-drop-open")&&this.opts.toogle?this.close():(cuppa.addClass(this.buttonElement,"cu-drop-open"),cuppa.addClass(this.element,"cu-drop-open"),this.opts.gsap.to(this.element,.2,{alpha:1,display:this.opts.display}),cuppa.off(window,this.opts.mouseActionClose,this.close),this.opts.gsap.delayedCall(.1,function(){cuppa.on(window,this.opts.mouseActionClose,this.close)}.bind(this)),this.opts.scrollClose&&(cuppa.off(window,"scroll",this.close),cuppa.on(window,"scroll",this.close)),this.opts.stopProgation&&cuppa.on(element,"click",(function(e){e.stopPropagation()})),this.opts.open&&this.opts.open())}.bind(this),"longPress"==this.opts.mouseActionOpen?cuppa.longPress(this.buttonElement,function(){this.preventFirstClickClose=!0,this.open()}.bind(this)):cuppa.on(this.buttonElement,this.opts.mouseActionOpen,this.open),this.close=function(){this.preventFirstClickClose?this.preventFirstClickClose=!1:(cuppa.removeClass(this.buttonElement,"cu-drop-open"),cuppa.off(window,this.opts.mouseActionClose,this.close),cuppa.off(window,"scroll",this.close),this.opts.gsap.killTweensOf(this.element),this.opts.gsap.to(this.element,{duration:.2,alpha:0,display:"none"}),this.opts.close&&this.opts.close())}.bind(this),this.element.dropdown=this.element.buttonElement=this,this},cuppa.serialize=function(element,json_encode,base64_encode){null==json_encode&&(json_encode=!1),null==base64_encode&&(base64_encode=!0);let formItems=(element=cuppa.element(element,{query:!0})[0]).querySelectorAll("input, textarea, select"),object={};for(let i=0;i<formItems.length;i++){let field=formItems[i],name=field.getAttribute("name");name&&("checkbox"==field.getAttribute("type")?object[name]=field.checked:"radio"==field.getAttribute("type")?object[name]=field.value:"select"==cuppa.elementType(field)&&field.hasAttribute("multiple")?object[name]=cuppa.selectedValues(field):object[name]=field.value,"string"==typeof object[name]&&(object[name]=cuppa.trim(object[name])))}return json_encode&&object&&(object=cuppa.jsonEncode(object,base64_encode)),object},cuppa.selectedValues=function(element,opts){opts=cuppa.mergeObjects([{returnFirst:!1,returnLast:!1,returnText:!1},opts]);let values=Array.prototype.slice.call(element.querySelectorAll("option:checked"),0).map((function(v,i,a){return opts.returnText?v.innerHTML:v.value}));return opts.returnFirst&&values.length?values[0]:opts.returnLast&&values.length?values[values.length-1]:values},cuppa.inputFilter=function(element,values){this.values=values||"0-9",this.values="["+values+"]",this.validate=function(event){let string,regex;if("keypress"==event.type){let key=event.charCode?event.charCode:event.keyCode?event.keyCode:0;if((8==key||9==key||13==key||35==key||36==key||37==key||39==key||46==key)&&0==event.charCode&&event.keyCode==key)return!0;if((99==key||120==key)&&event.ctrlKey)return;118==key&&event.ctrlKey?(string=event.clipboardData.getData("text/plain"),regex=new RegExp("^("+this.values+")+$")):(string=String.fromCharCode(key),regex=new RegExp(this.values))}else{if("paste"!=event.type)return;string=event.clipboardData.getData("text/plain"),regex=new RegExp("^("+this.values+")+$")}return regex.test(string)||event.preventDefault(),!0}.bind(this),cuppa.on(element,"keypress",this.validate,"cuppaInputFilter"),cuppa.on(element,"paste",this.validate,"cuppaInputFilter")},cuppa.inputFilterRemove=function(element){cuppa.off(element,"keypress","","cuppaInputFilter"),cuppa.off(element,"paste","","cuppaInputFilter")},cuppa.dateTimezoneOffsetAuto=function(date,remove){return remove?date.setMinutes(date.getMinutes()-date.getTimezoneOffset()):date.setMinutes(date.getMinutes()+date.getTimezoneOffset()),date},cuppa.dateAddTimezone=function(date){return cuppa.dateTimezoneOffsetAuto(date)},cuppa.dateRemoveTimezone=function(date){return cuppa.dateTimezoneOffsetAuto(date,!0)},cuppa.dateFromTimestamp=function(value){return new Date(1e3*value)},cuppa.timeToDate=function(value){value||(value="00:00:00"),value=value.toUpperCase();let hours=parseInt(value.substr(0,2));-1!=value.indexOf("AM")&&12==hours&&(hours=0),-1!=value.indexOf("PM")&&12!=hours&&(hours+=12);let minutes=parseInt(value.substr(3,2)),seconds=parseInt(value.substr(6,2)),date=new Date;return date.setHours(hours),date.setMinutes(minutes),date.setSeconds(seconds),date},cuppa.dateFormat=function(date,format){format||(format="mm-dd-yyyy H:M:S");let hours=date.getHours(),minutes=date.getMinutes(),seconds=date.getSeconds();return format=cuppa.replace(format,"mm",("0"+(date.getMonth()+1)).slice(-2)),format=cuppa.replace(format,"yyyy",date.getFullYear()),format=cuppa.replace(format,"dd",("0"+date.getDate()).slice(-2)),format=cuppa.replace(format,"I",minutes<10?"0"+minutes:minutes),format=cuppa.replace(format,"M",minutes<10?"0"+minutes:minutes),-1!=(format=cuppa.replace(format,"S",seconds<10?"0"+seconds:seconds)).indexOf("A")&&(hours<12?(format=cuppa.replace(format,"A","AM"),0==hours&&(hours=12)):(format=cuppa.replace(format,"A","PM"),12!=hours&&(hours-=12))),format=cuppa.replace(format,"H",hours<10?"0"+hours:hours)},cuppa.getAge=function(dateString){let today=new Date,birthDate=new Date(dateString),age=today.getFullYear()-birthDate.getFullYear(),m=today.getMonth()-birthDate.getMonth();return(m<0||0===m&&today.getDate()<birthDate.getDate())&&age--,age},cuppa.dateDiff=function(date1,date2,opts){let diff;opts||(opts={}),null==opts.addCero&&(opts.addCero=!1),"string"==typeof date1&&(date1=cuppa.replace(date1,"-","/"),date1=new Date(date1)),null==date2?date2=new Date:"string"==typeof date2&&(date2=cuppa.replace(date2,"-","/"),date2=new Date(date2)),diff=date2.getTime()>date1.getTime()?new Date(date2.getTime()-date1.getTime()):new Date(date1.getTime()-date2.getTime());let data={};return data.date=diff,data.time=diff.getTime(),data.years=diff.getUTCFullYear()-1970,data.years<0&&(data.years=0),data.months=diff.getUTCMonth(),data.months<0&&(data.months=0),data.days=parseInt(diff/864e5),data.hours=parseInt(Math.abs(diff)/36e5%24),data.minutes=parseInt(Math.abs(diff)/6e4%60),data.seconds=parseInt(Math.abs(diff)/1e3%60),data.years=cuppa.parseFloat(data.years),data.months=cuppa.parseFloat(data.months),data.days=cuppa.parseFloat(data.days),data.hours=cuppa.parseFloat(data.hours),data.minutes=cuppa.parseFloat(data.minutes),data.seconds=cuppa.parseFloat(data.seconds),opts.addCero&&(data.years=data.years>9?data.years:"0"+data.years,data.months=data.months>9?data.months:"0"+data.months,data.days=data.days>9?data.days:"0"+data.days,data.hours=data.hours>9?data.hours:"0"+data.hours,data.minutes=data.minutes>9?data.minutes:"0"+data.minutes,data.seconds=data.seconds>9?data.seconds:"0"+data.seconds),data},cuppa.secondsToTime=function(theSeconds){let hours=parseInt(theSeconds/3600);hours=hours>9?hours:"0"+hours;let minutes=parseInt((theSeconds-3600*hours)/60);minutes=minutes>9?minutes:"0"+minutes;let seconds=parseInt(theSeconds-(3600*hours+60*minutes));return seconds=seconds>9?seconds:"0"+seconds,hours+":"+minutes+":"+seconds},cuppa.seconds2Time=function(theSeconds){return cuppa.secondsToTime(theSeconds)},cuppa.monthDiff=function(d1,d2){let months;return null==d2&&(d2=new Date),months=12*(d2.getFullYear()-d1.getFullYear()),months-=d1.getMonth()+1,months+=d2.getMonth(),months<=0?0:months},cuppa.dateMonthDiff=function(d1,d2){return cuppa.monthDiff(d1,d2)},cuppa.enterKey=function(element,callBack,data){element.addEventListener("keyup",(function(e){13==e.which&&(cuppa.blur(),callBack(data))}))},cuppa.keyEnter=function(element,callBack,data){cuppa.enterKey(element,callBack,data)},cuppa.deleteKey=function(element,callBack,data){element.addEventListener("keyup",(function(e){8!=e.which&&46!=e.which||(cuppa.blur(),callBack(data))}))},cuppa.keyDelete=function(element,callBack,data){cuppa.deleteKey(element,callBack,data)},cuppa.exitKey=function(element,callBack,data){element.addEventListener("keyup",(function(e){27==e.which&&(cuppa.blur(),callBack(data))}))},cuppa.keyExit=function(element,callBack,data){cuppa.exitKey(element,callBack,data)},cuppa.longPress=function(element,callback,data,delay){element.timer=null,element.delay=delay||300,element.callback=callback,element.data=data,element.addEventListener("mousedown",(function(e){let item=e.currentTarget;item.timer=setTimeout((function(){clearTimeout(item.timer),item.callback&&item.callback(item,item.data)}),item.delay)})),element.addEventListener("mouseup",(function(e){let item=e.currentTarget;clearTimeout(item.timer)}))},cuppa.optionSelector=function(elements,options){this.options=cuppa.mergeObjects([{toggle:!0,multiple:!1,callback:null,default:null},options]),this.elements=cuppa.element(elements),this.change=function(element){element.currentTarget&&(element=element.currentTarget);let select=!0;this.options.multiple?(this.options.toggle&&cuppa.hasClass(element,"selected")&&(select=!1),select?cuppa.addClass(element,"selected"):cuppa.removeClass(element,"selected")):(this.options.toggle&&cuppa.hasClass(element,"selected")&&(select=!1),cuppa.removeClass(this.elements,"selected"),select&&cuppa.addClass(element,"selected")),this.options.callback&&this.options.callback(element,this)}.bind(this),cuppa.on(this.elements,"click",this.change),this.options.default&&this.change(this.options.default)},cuppa.validateForm=function(form,opts){opts=cuppa.mergeObjects([{showError:!0,errorMessage:"This field is required."},opts]);let elements=cuppa.element("input,select,textarea",{parent:form});cuppa.removeClass(elements,"error"),cuppa.remove(".form-error-meesage");let valid=!0;for(let i=0;i<elements.length;i++){let element=elements[i];if(element.errorElementId="error-message-element"+i,!element.checkValidity()&&(cuppa.addClass(element,"error"),valid=!1,opts.showError)){let message=cuppa.attr(element,"error")||opts.errorMessage,errorElement=cuppa.newElement("<div class='form-error-message' id='"+element.errorElementId+"'>"+message+"</div>");cuppa.after(errorElement,element),cuppa.on(element,"input",(function(e){e.target.checkValidity()&&cuppa.remove("#"+e.target.errorElementId)})),cuppa.on(element,"change",(function(e){e.target.checkValidity()&&cuppa.remove("#"+e.target.errorElementId)}))}}return valid},cuppa.toggle=function(elements,opts){return this.opts=cuppa.mergeObjects([{callback:null,selected:void 0,initCallback:!0},opts]),this.elements=cuppa.element(elements),this.onClick=function(element,selected){element.currentTarget&&(element=element.currentTarget),element.selected?(element.selected=!1,cuppa.removeClass(element,"selected"),element.input&&(element.input.value=element.selected)):(element.selected=!0,cuppa.addClass(element,"selected"),element.input&&(element.input.value=element.selected)),this.opts.callback&&this.opts.callback(element,element.selected)}.bind(this),cuppa.on(this.elements,"click",this.onClick),cuppa.addClass(this.elements,"cu-toggle"),this.elements.forEach(function(element){element.input=element.querySelector("input"),element.input&&(element.selected=parseInt(element.input.value)),null!=this.opts.selected&&(element.selected=this.opts.selected),null==element.selected&&(element.selected=cuppa.hasClass(element,"selected")),element.selected&&cuppa.addClass(element,"selected"),this.opts.initCallback&&this.opts.callback&&this.opts.callback(element,element.selected)}.bind(this)),this},cuppa.downloadFile=function(filePath,fileName,mimeType,opts){if((opts=cuppa.mergeObjects([{callback:null,preload:!1,returnData:!1,header:null,data:null,method:"GET",responseType:"blob"},opts])).preload){const xhttp=new XMLHttpRequest;if(xhttp.open(opts.method,filePath,!0),opts.header)for(let key in opts.header)xhttp.setRequestHeader(key,opts.header[key]);xhttp.responseType=opts.responseType,opts.data?xhttp.send(opts.data):xhttp.send(),xhttp.onload=function(){if(4===xhttp.readyState&&200===xhttp.status){let data=new Blob([xhttp.response],{type:mimeType});if(opts.callback&&opts.returnData)return void opts.callback(data);let link=document.createElement("a");link.href=window.URL.createObjectURL(data),link.download=fileName,document.body.appendChild(link),link.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),link.remove(),window.URL.revokeObjectURL(link.href),opts.callback&&opts.callback(link.href)}else opts.callback&&opts.callback(null)},xhttp.onerror=function(){log("onerror",xhttp),opts.callback&&opts.callback(null)}}else{let link=document.createElement("a");link.setAttribute("download",fileName),link.setAttribute("href",filePath),document.body.appendChild(link),link.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),link.remove(),opts.callback&&opts.callback(!0)}};export{log,cuppa,val,wait};try{module.exports={log:log,cuppa:cuppa,val:val,wait:wait}}catch(err){}